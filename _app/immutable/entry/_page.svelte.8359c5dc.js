var wi=Object.defineProperty;var Mi=(e,t,n)=>t in e?wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var It=(e,t,n)=>(Mi(e,typeof t!="symbol"?t+"":t,n),n);import{S as qe,i as Ie,s as Le,J as x,K as Z,m as M,h as b,n as m,b as E,L as J,H as oe,M as Oe,I as Pe,N as ge,a as K,c as $,q as G,r as X,G as v,u as Me,e as Se,p as dn,O as nt,P as ke,k as F,l as Y,v as lt,d as ce,f as at,g as le,y as De,z as Ue,A as ze,B as Ae,Q as ba,w as Hn,R as Mt,T as Vr,U as ki,V as Si,W as Ti}from"../chunks/index.a4c75c5d.js";import{I as Gr,a as Ni,r as Ci,p as Ei,b as Di,d as Ui,o as Wn,l as zi}from"../chunks/confusions.0c816491.js";import{w as _a,v as Xr}from"../chunks/environment.6d58773c.js";function Pt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ai(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rr(e){let t,n,r;e.length!==2?(t=Pt,n=(o,s)=>Pt(e(o),s),r=(o,s)=>e(o)-s):(t=e===Pt||e===Ai?e:qi,n=e,r=e);function l(o,s,f=0,c=o.length){if(f<c){if(t(s,s)!==0)return c;do{const u=f+c>>>1;n(o[u],s)<0?f=u+1:c=u}while(f<c)}return f}function a(o,s,f=0,c=o.length){if(f<c){if(t(s,s)!==0)return c;do{const u=f+c>>>1;n(o[u],s)<=0?f=u+1:c=u}while(f<c)}return f}function i(o,s,f=0,c=o.length){const u=l(o,s,f,c-1);return u>f&&r(o[u-1],s)>-r(o[u],s)?u-1:u}return{left:l,center:i,right:a}}function qi(){return 0}function pa(e){return e===null?NaN:+e}const Ii=rr(Pt),Bn=Ii.right;rr(pa).center;const jt=Bn,Li=Math.sqrt(50),Oi=Math.sqrt(10),Fi=Math.sqrt(2);function rn(e,t,n){const r=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(r)),a=r/Math.pow(10,l),i=a>=Li?10:a>=Oi?5:a>=Fi?2:1;let o,s,f;return l<0?(f=Math.pow(10,-l)/i,o=Math.round(e*f),s=Math.round(t*f),o/f<e&&++o,s/f>t&&--s,f=-f):(f=Math.pow(10,l)*i,o=Math.round(e/f),s=Math.round(t/f),o*f<e&&++o,s*f>t&&--s),s<o&&.5<=n&&n<2?rn(e,t,n*2):[o,s,f]}function Vn(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[l,a,i]=r?rn(t,e,n):rn(e,t,n);if(!(a>=l))return[];const o=a-l+1,s=new Array(o);if(r)if(i<0)for(let f=0;f<o;++f)s[f]=(a-f)/-i;else for(let f=0;f<o;++f)s[f]=(a-f)*i;else if(i<0)for(let f=0;f<o;++f)s[f]=(l+f)/-i;else for(let f=0;f<o;++f)s[f]=(l+f)*i;return s}function Gn(e,t,n){return t=+t,e=+e,n=+n,rn(e,t,n)[2]}function Xn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,l=r?Gn(t,e,n):Gn(e,t,n);return(r?-1:1)*(l<0?1/-l:l)}function Yi(e,t,n=pa){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,l=(r-1)*t,a=Math.floor(l),i=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return i+(o-i)*(l-a)}}function Pi(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(l);++r<l;)a[r]=e+r*n;return a}function Je(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ot(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jr=Symbol("implicit");function lr(){var e=new Gr,t=[],n=[],r=jr;function l(a){let i=e.get(a);if(i===void 0){if(r!==jr)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return l.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Gr;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return l},l.range=function(a){return arguments.length?(n=Array.from(a),l):n.slice()},l.unknown=function(a){return arguments.length?(r=a,l):r},l.copy=function(){return lr(t,n).unknown(r)},Je.apply(l,arguments),l}function zt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ft(){}var gt=.7,Tt=1/gt,kt="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ri=/^#([0-9a-f]{3,8})$/,Hi=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Wi=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),Bi=new RegExp(`^rgba\\(${kt},${kt},${kt},${Rt}\\)$`),Vi=new RegExp(`^rgba\\(${je},${je},${je},${Rt}\\)$`),Gi=new RegExp(`^hsl\\(${Rt},${je},${je}\\)$`),Xi=new RegExp(`^hsla\\(${Rt},${je},${je},${Rt}\\)$`),xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zt(ft,Ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zr,formatHex:Zr,formatHex8:ji,formatHsl:xi,formatRgb:Qr,toString:Qr});function Zr(){return this.rgb().formatHex()}function ji(){return this.rgb().formatHex8()}function xi(){return va(this).formatHsl()}function Qr(){return this.rgb().formatRgb()}function Ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ri.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jr(t):n===3?new be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$t(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hi.exec(e))?new be(t[1],t[2],t[3],1):(t=Wi.exec(e))?new be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bi.exec(e))?$t(t[1],t[2],t[3],t[4]):(t=Vi.exec(e))?$t(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gi.exec(e))?el(t[1],t[2]/100,t[3]/100,1):(t=Xi.exec(e))?el(t[1],t[2]/100,t[3]/100,t[4]):xr.hasOwnProperty(e)?Jr(xr[e]):e==="transparent"?new be(NaN,NaN,NaN,0):null}function Jr(e){return new be(e>>16&255,e>>8&255,e&255,1)}function $t(e,t,n,r){return r<=0&&(e=t=n=NaN),new be(e,t,n,r)}function ar(e){return e instanceof ft||(e=Ht(e)),e?(e=e.rgb(),new be(e.r,e.g,e.b,e.opacity)):new be}function ln(e,t,n,r){return arguments.length===1?ar(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zt(be,ln,xt(ft,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new be(ct(this.r),ct(this.g),ct(this.b),an(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kr,formatHex:Kr,formatHex8:Zi,formatRgb:$r,toString:$r}));function Kr(){return`#${st(this.r)}${st(this.g)}${st(this.b)}`}function Zi(){return`#${st(this.r)}${st(this.g)}${st(this.b)}${st((isNaN(this.opacity)?1:this.opacity)*255)}`}function $r(){const e=an(this.opacity);return`${e===1?"rgb(":"rgba("}${ct(this.r)}, ${ct(this.g)}, ${ct(this.b)}${e===1?")":`, ${e})`}`}function an(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ct(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function st(e){return e=ct(e),(e<16?"0":"")+e.toString(16)}function el(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Be(e,t,n,r)}function va(e){if(e instanceof Be)return new Be(e.h,e.s,e.l,e.opacity);if(e instanceof ft||(e=Ht(e)),!e)return new Be;if(e instanceof Be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,l=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,o=a-l,s=(a+l)/2;return o?(t===a?i=(n-r)/o+(n<r)*6:n===a?i=(r-t)/o+2:i=(t-n)/o+4,o/=s<.5?a+l:2-a-l,i*=60):o=s>0&&s<1?0:i,new Be(i,o,s,e.opacity)}function jn(e,t,n,r){return arguments.length===1?va(e):new Be(e,t,n,r??1)}function Be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zt(Be,jn,xt(ft,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new Be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new Be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,l=2*n-r;return new be(En(e>=240?e-240:e+120,l,r),En(e,l,r),En(e<120?e+240:e-120,l,r),this.opacity)},clamp(){return new Be(tl(this.h),en(this.s),en(this.l),an(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=an(this.opacity);return`${e===1?"hsl(":"hsla("}${tl(this.h)}, ${en(this.s)*100}%, ${en(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tl(e){return e=(e||0)%360,e<0?e+360:e}function en(e){return Math.max(0,Math.min(1,e||0))}function En(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ya=Math.PI/180,wa=180/Math.PI,on=18,Ma=.96422,ka=1,Sa=.82521,Ta=4/29,St=6/29,Na=3*St*St,Qi=St*St*St;function Ca(e){if(e instanceof xe)return new xe(e.l,e.a,e.b,e.opacity);if(e instanceof Ke)return Ea(e);e instanceof be||(e=ar(e));var t=An(e.r),n=An(e.g),r=An(e.b),l=Dn((.2225045*t+.7168786*n+.0606169*r)/ka),a,i;return t===n&&n===r?a=i=l:(a=Dn((.4360747*t+.3850649*n+.1430804*r)/Ma),i=Dn((.0139322*t+.0971045*n+.7141733*r)/Sa)),new xe(116*l-16,500*(a-l),200*(l-i),e.opacity)}function xn(e,t,n,r){return arguments.length===1?Ca(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}zt(xe,xn,xt(ft,{brighter(e){return new xe(this.l+on*(e??1),this.a,this.b,this.opacity)},darker(e){return new xe(this.l-on*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Ma*Un(t),e=ka*Un(e),n=Sa*Un(n),new be(zn(3.1338561*t-1.6168667*e-.4906146*n),zn(-.9787684*t+1.9161415*e+.033454*n),zn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Dn(e){return e>Qi?Math.pow(e,1/3):e/Na+Ta}function Un(e){return e>St?e*e*e:Na*(e-Ta)}function zn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function An(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ji(e){if(e instanceof Ke)return new Ke(e.h,e.c,e.l,e.opacity);if(e instanceof xe||(e=Ca(e)),e.a===0&&e.b===0)return new Ke(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*wa;return new Ke(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Zn(e,t,n,r){return arguments.length===1?Ji(e):new Ke(e,t,n,r??1)}function Ke(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Ea(e){if(isNaN(e.h))return new xe(e.l,0,0,e.opacity);var t=e.h*ya;return new xe(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}zt(Ke,Zn,xt(ft,{brighter(e){return new Ke(this.h,this.c,this.l+on*(e??1),this.opacity)},darker(e){return new Ke(this.h,this.c,this.l-on*(e??1),this.opacity)},rgb(){return Ea(this).rgb()}}));var Da=-.14861,ir=1.78277,or=-.29227,gn=-.90649,Wt=1.97294,nl=Wt*gn,rl=Wt*ir,ll=ir*or-gn*Da;function Ki(e){if(e instanceof ht)return new ht(e.h,e.s,e.l,e.opacity);e instanceof be||(e=ar(e));var t=e.r/255,n=e.g/255,r=e.b/255,l=(ll*r+nl*t-rl*n)/(ll+nl-rl),a=r-l,i=(Wt*(n-l)-or*a)/gn,o=Math.sqrt(i*i+a*a)/(Wt*l*(1-l)),s=o?Math.atan2(i,a)*wa-120:NaN;return new ht(s<0?s+360:s,o,l,e.opacity)}function Qn(e,t,n,r){return arguments.length===1?Ki(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zt(ht,Qn,xt(ft,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ya,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),l=Math.sin(e);return new be(255*(t+n*(Da*r+ir*l)),255*(t+n*(or*r+gn*l)),255*(t+n*(Wt*r)),this.opacity)}}));function Ua(e,t,n,r,l){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*r+i*l)/6}function za(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),l=e[r],a=e[r+1],i=r>0?e[r-1]:2*l-a,o=r<t-1?e[r+2]:2*a-l;return Ua((n-r/t)*t,i,l,a,o)}}function Aa(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),l=e[(r+t-1)%t],a=e[r%t],i=e[(r+1)%t],o=e[(r+2)%t];return Ua((n-r/t)*t,l,a,i,o)}}const mn=e=>()=>e;function qa(e,t){return function(n){return e+n*t}}function $i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bn(e,t){var n=t-e;return n?qa(e,n>180||n<-180?n-360*Math.round(n/360):n):mn(isNaN(e)?t:e)}function eo(e){return(e=+e)==1?_e:function(t,n){return n-t?$i(t,n,e):mn(isNaN(t)?n:t)}}function _e(e,t){var n=t-e;return n?qa(e,n):mn(isNaN(e)?t:e)}const Jn=function e(t){var n=eo(t);function r(l,a){var i=n((l=ln(l)).r,(a=ln(a)).r),o=n(l.g,a.g),s=n(l.b,a.b),f=_e(l.opacity,a.opacity);return function(c){return l.r=i(c),l.g=o(c),l.b=s(c),l.opacity=f(c),l+""}}return r.gamma=e,r}(1);function Ia(e){return function(t){var n=t.length,r=new Array(n),l=new Array(n),a=new Array(n),i,o;for(i=0;i<n;++i)o=ln(t[i]),r[i]=o.r||0,l[i]=o.g||0,a[i]=o.b||0;return r=e(r),l=e(l),a=e(a),o.opacity=1,function(s){return o.r=r(s),o.g=l(s),o.b=a(s),o+""}}}var to=Ia(za),no=Ia(Aa);function fr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),l;return function(a){for(l=0;l<n;++l)r[l]=e[l]*(1-a)+t[l]*a;return r}}function La(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ro(e,t){return(La(t)?fr:Oa)(e,t)}function Oa(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,l=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)l[i]=mt(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(o){for(i=0;i<r;++i)a[i]=l[i](o);return a}}function Fa(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function We(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ya(e,t){var n={},r={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=mt(e[l],t[l]):r[l]=t[l];return function(a){for(l in n)r[l]=n[l](a);return r}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qn=new RegExp(Kn.source,"g");function lo(e){return function(){return e}}function ao(e){return function(t){return e(t)+""}}function Pa(e,t){var n=Kn.lastIndex=qn.lastIndex=0,r,l,a,i=-1,o=[],s=[];for(e=e+"",t=t+"";(r=Kn.exec(e))&&(l=qn.exec(t));)(a=l.index)>n&&(a=t.slice(n,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(l=l[0])?o[i]?o[i]+=l:o[++i]=l:(o[++i]=null,s.push({i,x:We(r,l)})),n=qn.lastIndex;return n<t.length&&(a=t.slice(n),o[i]?o[i]+=a:o[++i]=a),o.length<2?s[0]?ao(s[0].x):lo(t):(t=s.length,function(f){for(var c=0,u;c<t;++c)o[(u=s[c]).i]=u.x(f);return o.join("")})}function mt(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?We:n==="string"?(r=Ht(t))?(t=r,Jn):Pa:t instanceof Ht?Jn:t instanceof Date?Fa:La(t)?fr:Array.isArray(t)?Oa:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ya:We)(e,t)}function io(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function oo(e,t){var n=bn(+e,+t);return function(r){var l=n(r);return l-360*Math.floor(l/360)}}function _n(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var al=180/Math.PI,$n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ra(e,t,n,r,l,a){var i,o,s;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,s/=o),e*r<t*n&&(e=-e,t=-t,s=-s,i=-i),{translateX:l,translateY:a,rotate:Math.atan2(t,e)*al,skewX:Math.atan(s)*al,scaleX:i,scaleY:o}}var tn;function fo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$n:Ra(t.a,t.b,t.c,t.d,t.e,t.f)}function uo(e){return e==null||(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",e),!(e=tn.transform.baseVal.consolidate()))?$n:(e=e.matrix,Ra(e.a,e.b,e.c,e.d,e.e,e.f))}function Ha(e,t,n,r){function l(f){return f.length?f.pop()+" ":""}function a(f,c,u,h,d,_){if(f!==u||c!==h){var g=d.push("translate(",null,t,null,n);_.push({i:g-4,x:We(f,u)},{i:g-2,x:We(c,h)})}else(u||h)&&d.push("translate("+u+t+h+n)}function i(f,c,u,h){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),h.push({i:u.push(l(u)+"rotate(",null,r)-2,x:We(f,c)})):c&&u.push(l(u)+"rotate("+c+r)}function o(f,c,u,h){f!==c?h.push({i:u.push(l(u)+"skewX(",null,r)-2,x:We(f,c)}):c&&u.push(l(u)+"skewX("+c+r)}function s(f,c,u,h,d,_){if(f!==u||c!==h){var g=d.push(l(d)+"scale(",null,",",null,")");_.push({i:g-4,x:We(f,u)},{i:g-2,x:We(c,h)})}else(u!==1||h!==1)&&d.push(l(d)+"scale("+u+","+h+")")}return function(f,c){var u=[],h=[];return f=e(f),c=e(c),a(f.translateX,f.translateY,c.translateX,c.translateY,u,h),i(f.rotate,c.rotate,u,h),o(f.skewX,c.skewX,u,h),s(f.scaleX,f.scaleY,c.scaleX,c.scaleY,u,h),f=c=null,function(d){for(var _=-1,g=h.length,y;++_<g;)u[(y=h[_]).i]=y.x(d);return u.join("")}}}var so=Ha(fo,"px, ","px)","deg)"),co=Ha(uo,", ",")",")"),ho=1e-12;function il(e){return((e=Math.exp(e))+1/e)/2}function go(e){return((e=Math.exp(e))-1/e)/2}function mo(e){return((e=Math.exp(2*e))-1)/(e+1)}const bo=function e(t,n,r){function l(a,i){var o=a[0],s=a[1],f=a[2],c=i[0],u=i[1],h=i[2],d=c-o,_=u-s,g=d*d+_*_,y,p;if(g<ho)p=Math.log(h/f)/t,y=function(H){return[o+H*d,s+H*_,f*Math.exp(t*H*p)]};else{var k=Math.sqrt(g),I=(h*h-f*f+r*g)/(2*f*n*k),V=(h*h-f*f-r*g)/(2*h*n*k),W=Math.log(Math.sqrt(I*I+1)-I),A=Math.log(Math.sqrt(V*V+1)-V);p=(A-W)/t,y=function(H){var C=H*p,D=il(W),N=f/(n*k)*(D*mo(t*C+W)-go(W));return[o+N*d,s+N*_,f*D/il(t*C+W)]}}return y.duration=p*1e3*t/Math.SQRT2,y}return l.rho=function(a){var i=Math.max(.001,+a),o=i*i,s=o*o;return e(i,o,s)},l}(Math.SQRT2,2,4);function Wa(e){return function(t,n){var r=e((t=jn(t)).h,(n=jn(n)).h),l=_e(t.s,n.s),a=_e(t.l,n.l),i=_e(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=l(o),t.l=a(o),t.opacity=i(o),t+""}}}const _o=Wa(bn);var po=Wa(_e);function vo(e,t){var n=_e((e=xn(e)).l,(t=xn(t)).l),r=_e(e.a,t.a),l=_e(e.b,t.b),a=_e(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=l(i),e.opacity=a(i),e+""}}function Ba(e){return function(t,n){var r=e((t=Zn(t)).h,(n=Zn(n)).h),l=_e(t.c,n.c),a=_e(t.l,n.l),i=_e(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=l(o),t.l=a(o),t.opacity=i(o),t+""}}}const yo=Ba(bn);var wo=Ba(_e);function Va(e){return function t(n){n=+n;function r(l,a){var i=e((l=Qn(l)).h,(a=Qn(a)).h),o=_e(l.s,a.s),s=_e(l.l,a.l),f=_e(l.opacity,a.opacity);return function(c){return l.h=i(c),l.s=o(c),l.l=s(Math.pow(c,n)),l.opacity=f(c),l+""}}return r.gamma=t,r}(1)}const Mo=Va(bn);var ko=Va(_e);function ur(e,t){t===void 0&&(t=e,e=mt);for(var n=0,r=t.length-1,l=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(l,l=t[++n]);return function(i){var o=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return a[o](i-o)}}function So(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const To=Object.freeze(Object.defineProperty({__proto__:null,interpolate:mt,interpolateArray:ro,interpolateBasis:za,interpolateBasisClosed:Aa,interpolateCubehelix:Mo,interpolateCubehelixLong:ko,interpolateDate:Fa,interpolateDiscrete:io,interpolateHcl:yo,interpolateHclLong:wo,interpolateHsl:_o,interpolateHslLong:po,interpolateHue:oo,interpolateLab:vo,interpolateNumber:We,interpolateNumberArray:fr,interpolateObject:Ya,interpolateRgb:Jn,interpolateRgbBasis:to,interpolateRgbBasisClosed:no,interpolateRound:_n,interpolateString:Pa,interpolateTransformCss:so,interpolateTransformSvg:co,interpolateZoom:bo,piecewise:ur,quantize:So},Symbol.toStringTag,{value:"Module"}));function No(e){return function(){return e}}function er(e){return+e}var ol=[0,1];function Ce(e){return e}function tr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:No(isNaN(t)?NaN:.5)}function Co(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Eo(e,t,n){var r=e[0],l=e[1],a=t[0],i=t[1];return l<r?(r=tr(l,r),a=n(i,a)):(r=tr(r,l),a=n(a,i)),function(o){return a(r(o))}}function Do(e,t,n){var r=Math.min(e.length,t.length)-1,l=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)l[i]=tr(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(o){var s=jt(e,o,1,r)-1;return a[s](l[s](o))}}function Zt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pn(){var e=ol,t=ol,n=mt,r,l,a,i=Ce,o,s,f;function c(){var h=Math.min(e.length,t.length);return i!==Ce&&(i=Co(e[0],e[h-1])),o=h>2?Do:Eo,s=f=null,u}function u(h){return h==null||isNaN(h=+h)?a:(s||(s=o(e.map(r),t,n)))(r(i(h)))}return u.invert=function(h){return i(l((f||(f=o(t,e.map(r),We)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,er),c()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=_n,c()},u.clamp=function(h){return arguments.length?(i=h?!0:Ce,c()):i!==Ce},u.interpolate=function(h){return arguments.length?(n=h,c()):n},u.unknown=function(h){return arguments.length?(a=h,u):a},function(h,d){return r=h,l=d,c()}}function Ga(){return pn()(Ce,Ce)}function Uo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nt(e){return e=fn(Math.abs(e)),e?e[1]:NaN}function zo(e,t){return function(n,r){for(var l=n.length,a=[],i=0,o=e[0],s=0;l>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(n.substring(l-=o,l+o)),!((s+=o+1)>r));)o=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Ao(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bt(e){if(!(t=qo.exec(e)))throw new Error("invalid format: "+e);var t;return new sr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bt.prototype=sr.prototype;function sr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Io(e){e:for(var t=e.length,n=1,r=-1,l;n<t;++n)switch(e[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(l+1):e}var Xa;function Lo(e,t){var n=fn(e,t);if(!n)return e+"";var r=n[0],l=n[1],a=l-(Xa=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fn(e,Math.max(0,t+a-1))[0]}function fl(e,t){var n=fn(e,t);if(!n)return e+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const ul={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fl(e*100,t),r:fl,s:Lo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sl(e){return e}var cl=Array.prototype.map,hl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oo(e){var t=e.grouping===void 0||e.thousands===void 0?sl:zo(cl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?sl:Ao(cl.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(u){u=Bt(u);var h=u.fill,d=u.align,_=u.sign,g=u.symbol,y=u.zero,p=u.width,k=u.comma,I=u.precision,V=u.trim,W=u.type;W==="n"?(k=!0,W="g"):ul[W]||(I===void 0&&(I=12),V=!0,W="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=g==="$"?r:/[%p]/.test(W)?i:"",C=ul[W],D=/[defgprs%]/.test(W);I=I===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function N(z){var te=A,j=H,O,U,B;if(W==="c")j=C(z)+j,z="";else{z=+z;var P=z<0||1/z<0;if(z=isNaN(z)?s:C(Math.abs(z),I),V&&(z=Io(z)),P&&+z==0&&_!=="+"&&(P=!1),te=(P?_==="("?_:o:_==="-"||_==="("?"":_)+te,j=(W==="s"?hl[8+Xa/3]:"")+j+(P&&_==="("?")":""),D){for(O=-1,U=z.length;++O<U;)if(B=z.charCodeAt(O),48>B||B>57){j=(B===46?l+z.slice(O+1):z.slice(O))+j,z=z.slice(0,O);break}}}k&&!y&&(z=t(z,1/0));var Q=te.length+z.length+j.length,ne=Q<p?new Array(p-Q+1).join(h):"";switch(k&&y&&(z=t(ne+z,ne.length?p-j.length:1/0),ne=""),d){case"<":z=te+z+j+ne;break;case"=":z=te+ne+z+j;break;case"^":z=ne.slice(0,Q=ne.length>>1)+te+z+j+ne.slice(Q);break;default:z=ne+te+z+j;break}return a(z)}return N.toString=function(){return u+""},N}function c(u,h){var d=f((u=Bt(u),u.type="f",u)),_=Math.max(-8,Math.min(8,Math.floor(Nt(h)/3)))*3,g=Math.pow(10,-_),y=hl[8+_/3];return function(p){return d(g*p)+y}}return{format:f,formatPrefix:c}}var nn,cr,ja;Fo({thousands:",",grouping:[3],currency:["$",""]});function Fo(e){return nn=Oo(e),cr=nn.format,ja=nn.formatPrefix,nn}function Yo(e){return Math.max(0,-Nt(Math.abs(e)))}function Po(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nt(t)/3)))*3-Nt(Math.abs(e)))}function Ro(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nt(t)-Nt(e))+1}function xa(e,t,n,r){var l=Xn(e,t,n),a;switch(r=Bt(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Po(l,i))&&(r.precision=a),ja(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ro(l,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Yo(l))&&(r.precision=a-(r.type==="%")*2);break}}return cr(r)}function bt(e){var t=e.domain;return e.ticks=function(n){var r=t();return Vn(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var l=t();return xa(l[0],l[l.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),l=0,a=r.length-1,i=r[l],o=r[a],s,f,c=10;for(o<i&&(f=i,i=o,o=f,f=l,l=a,a=f);c-- >0;){if(f=Gn(i,o,n),f===s)return r[l]=i,r[a]=o,t(r);if(f>0)i=Math.floor(i/f)*f,o=Math.ceil(o/f)*f;else if(f<0)i=Math.ceil(i*f)/f,o=Math.floor(o*f)/f;else break;s=f}return e},e}function Re(){var e=Ga();return e.copy=function(){return Zt(e,Re())},Je.apply(e,arguments),bt(e)}function Za(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,er),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Za(e).unknown(t)},e=arguments.length?Array.from(e,er):[0,1],bt(n)}function Qa(e,t){e=e.slice();var n=0,r=e.length-1,l=e[n],a=e[r],i;return a<l&&(i=n,n=r,r=i,i=l,l=a,a=i),e[n]=t.floor(l),e[r]=t.ceil(a),e}function dl(e){return Math.log(e)}function gl(e){return Math.exp(e)}function Ho(e){return-Math.log(-e)}function Wo(e){return-Math.exp(-e)}function Bo(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vo(e){return e===10?Bo:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Go(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ml(e){return(t,n)=>-e(-t,n)}function hr(e){const t=e(dl,gl),n=t.domain;let r=10,l,a;function i(){return l=Go(r),a=Vo(r),n()[0]<0?(l=ml(l),a=ml(a),e(Ho,Wo)):e(dl,gl),t}return t.base=function(o){return arguments.length?(r=+o,i()):r},t.domain=function(o){return arguments.length?(n(o),i()):n()},t.ticks=o=>{const s=n();let f=s[0],c=s[s.length-1];const u=c<f;u&&([f,c]=[c,f]);let h=l(f),d=l(c),_,g;const y=o==null?10:+o;let p=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),f>0){for(;h<=d;++h)for(_=1;_<r;++_)if(g=h<0?_/a(-h):_*a(h),!(g<f)){if(g>c)break;p.push(g)}}else for(;h<=d;++h)for(_=r-1;_>=1;--_)if(g=h>0?_/a(-h):_*a(h),!(g<f)){if(g>c)break;p.push(g)}p.length*2<y&&(p=Vn(f,c,y))}else p=Vn(h,d,Math.min(d-h,y)).map(a);return u?p.reverse():p},t.tickFormat=(o,s)=>{if(o==null&&(o=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Bt(s)).precision==null&&(s.trim=!0),s=cr(s)),o===1/0)return s;const f=Math.max(1,r*o/t.ticks().length);return c=>{let u=c/a(Math.round(l(c)));return u*r<r-.5&&(u*=r),u<=f?s(c):""}},t.nice=()=>n(Qa(n(),{floor:o=>a(Math.floor(l(o))),ceil:o=>a(Math.ceil(l(o)))})),t}function Ja(){const e=hr(pn()).domain([1,10]);return e.copy=()=>Zt(e,Ja()).base(e.base()),Je.apply(e,arguments),e}function bl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _l(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dr(e){var t=1,n=e(bl(t),_l(t));return n.constant=function(r){return arguments.length?e(bl(t=+r),_l(t)):t},bt(n)}function Ka(){var e=dr(pn());return e.copy=function(){return Zt(e,Ka()).constant(e.constant())},Je.apply(e,arguments)}function pl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xo(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jo(e){return e<0?-e*e:e*e}function gr(e){var t=e(Ce,Ce),n=1;function r(){return n===1?e(Ce,Ce):n===.5?e(Xo,jo):e(pl(n),pl(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,r()):n},bt(t)}function mr(){var e=gr(pn());return e.copy=function(){return Zt(e,mr()).exponent(e.exponent())},Je.apply(e,arguments),e}function xo(){return mr.apply(null,arguments).exponent(.5)}function $a(){var e=[],t=[],n=[],r;function l(){var i=0,o=Math.max(1,t.length);for(n=new Array(o-1);++i<o;)n[i-1]=Yi(e,i/o);return a}function a(i){return i==null||isNaN(i=+i)?r:t[jt(n,i)]}return a.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Pt),l()},a.range=function(i){return arguments.length?(t=Array.from(i),l()):t.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $a().domain(e).range(t).unknown(r)},Je.apply(a,arguments)}function ei(){var e=0,t=1,n=1,r=[.5],l=[0,1],a;function i(s){return s!=null&&s<=s?l[jt(r,s,0,n)]:a}function o(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*t-(s-n)*e)/(n+1);return i}return i.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,o()):[e,t]},i.range=function(s){return arguments.length?(n=(l=Array.from(s)).length-1,o()):l.slice()},i.invertExtent=function(s){var f=l.indexOf(s);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},i.unknown=function(s){return arguments.length&&(a=s),i},i.thresholds=function(){return r.slice()},i.copy=function(){return ei().domain([e,t]).range(l).unknown(a)},Je.apply(bt(i),arguments)}function ti(){var e=[.5],t=[0,1],n,r=1;function l(a){return a!=null&&a<=a?t[jt(e,a,0,r)]:n}return l.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},l.unknown=function(a){return arguments.length?(n=a,l):n},l.copy=function(){return ti().domain(e).range(t).unknown(n)},Je.apply(l,arguments)}const In=new Date,Ln=new Date;function me(e,t,n,r){function l(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return l.floor=a=>(e(a=new Date(+a)),a),l.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),l.round=a=>{const i=l(a),o=l.ceil(a);return a-i<o-a?i:o},l.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),l.range=(a,i,o)=>{const s=[];if(a=l.ceil(a),o=o==null?1:Math.floor(o),!(a<i)||!(o>0))return s;let f;do s.push(f=new Date(+a)),t(a,o),e(a);while(f<a&&a<i);return s},l.filter=a=>me(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!a(i););else for(;--o>=0;)for(;t(i,1),!a(i););}),n&&(l.count=(a,i)=>(In.setTime(+a),Ln.setTime(+i),e(In),e(Ln),Math.floor(n(In,Ln))),l.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?l.filter(r?i=>r(i)%a===0:i=>l.count(0,i)%a===0):l)),l}const Ct=me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ct.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?me(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ct);Ct.range;const $e=1e3,Ye=$e*60,et=Ye*60,rt=et*24,br=rt*7,vl=rt*30,On=rt*365,tt=me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$e)},(e,t)=>(t-e)/$e,e=>e.getUTCSeconds());tt.range;const vn=me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$e)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getMinutes());vn.range;const yn=me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCMinutes());yn.range;const wn=me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$e-e.getMinutes()*Ye)},(e,t)=>{e.setTime(+e+t*et)},(e,t)=>(t-e)/et,e=>e.getHours());wn.range;const Mn=me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*et)},(e,t)=>(t-e)/et,e=>e.getUTCHours());Mn.range;const it=me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/rt,e=>e.getDate()-1);it.range;const dt=me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rt,e=>e.getUTCDate()-1);dt.range;const ni=me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rt,e=>Math.floor(e/rt));ni.range;function _t(e){return me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/br)}const Qt=_t(0),un=_t(1),Zo=_t(2),Qo=_t(3),Et=_t(4),Jo=_t(5),Ko=_t(6);Qt.range;un.range;Zo.range;Qo.range;Et.range;Jo.range;Ko.range;function pt(e){return me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/br)}const Jt=pt(0),sn=pt(1),$o=pt(2),ef=pt(3),Dt=pt(4),tf=pt(5),nf=pt(6);Jt.range;sn.range;$o.range;ef.range;Dt.range;tf.range;nf.range;const Vt=me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vt.range;const Gt=me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gt.range;const Ze=me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ze.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ze.range;const Qe=me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qe.range;function ri(e,t,n,r,l,a){const i=[[tt,1,$e],[tt,5,5*$e],[tt,15,15*$e],[tt,30,30*$e],[a,1,Ye],[a,5,5*Ye],[a,15,15*Ye],[a,30,30*Ye],[l,1,et],[l,3,3*et],[l,6,6*et],[l,12,12*et],[r,1,rt],[r,2,2*rt],[n,1,br],[t,1,vl],[t,3,3*vl],[e,1,On]];function o(f,c,u){const h=c<f;h&&([f,c]=[c,f]);const d=u&&typeof u.range=="function"?u:s(f,c,u),_=d?d.range(f,+c+1):[];return h?_.reverse():_}function s(f,c,u){const h=Math.abs(c-f)/u,d=rr(([,,y])=>y).right(i,h);if(d===i.length)return e.every(Xn(f/On,c/On,u));if(d===0)return Ct.every(Math.max(Xn(f,c,u),1));const[_,g]=i[h/i[d-1][2]<i[d][2]/h?d-1:d];return _.every(g)}return[o,s]}const[rf,lf]=ri(Qe,Gt,Jt,ni,Mn,yn),[af,of]=ri(Ze,Vt,Qt,it,wn,vn);function Fn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ff(e){var t=e.dateTime,n=e.date,r=e.time,l=e.periods,a=e.days,i=e.shortDays,o=e.months,s=e.shortMonths,f=Ot(l),c=Ft(l),u=Ot(a),h=Ft(a),d=Ot(i),_=Ft(i),g=Ot(o),y=Ft(o),p=Ot(s),k=Ft(s),I={a:P,A:Q,b:ne,B:ye,c:null,d:Tl,e:Tl,f:zf,g:Hf,G:Bf,H:Ef,I:Df,j:Uf,L:li,m:Af,M:qf,p:fe,q:He,Q:El,s:Dl,S:If,u:Lf,U:Of,V:Ff,w:Yf,W:Pf,x:null,X:null,y:Rf,Y:Wf,Z:Vf,"%":Cl},V={a:Te,A:re,b:Xe,B:Fe,c:null,d:Nl,e:Nl,f:xf,g:lu,G:iu,H:Gf,I:Xf,j:jf,L:ii,m:Zf,M:Qf,p:ae,q:Cn,Q:El,s:Dl,S:Jf,u:Kf,U:$f,V:eu,w:tu,W:nu,x:null,X:null,y:ru,Y:au,Z:ou,"%":Cl},W={a:N,A:z,b:te,B:j,c:O,d:kl,e:kl,f:Sf,g:Ml,G:wl,H:Sl,I:Sl,j:yf,L:kf,m:vf,M:wf,p:D,q:pf,Q:Nf,s:Cf,S:Mf,u:df,U:gf,V:mf,w:hf,W:bf,x:U,X:B,y:Ml,Y:wl,Z:_f,"%":Tf};I.x=A(n,I),I.X=A(r,I),I.c=A(t,I),V.x=A(n,V),V.X=A(r,V),V.c=A(t,V);function A(L,R){return function(ie){var S=[],w=-1,T=0,ee=L.length,he,q,we;for(ie instanceof Date||(ie=new Date(+ie));++w<ee;)L.charCodeAt(w)===37&&(S.push(L.slice(T,w)),(q=yl[he=L.charAt(++w)])!=null?he=L.charAt(++w):q=he==="e"?" ":"0",(we=R[he])&&(he=we(ie,q)),S.push(he),T=w+1);return S.push(L.slice(T,w)),S.join("")}}function H(L,R){return function(ie){var S=Lt(1900,void 0,1),w=C(S,L,ie+="",0),T,ee;if(w!=ie.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(R&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(T=Yn(Lt(S.y,0,1)),ee=T.getUTCDay(),T=ee>4||ee===0?sn.ceil(T):sn(T),T=dt.offset(T,(S.V-1)*7),S.y=T.getUTCFullYear(),S.m=T.getUTCMonth(),S.d=T.getUTCDate()+(S.w+6)%7):(T=Fn(Lt(S.y,0,1)),ee=T.getDay(),T=ee>4||ee===0?un.ceil(T):un(T),T=it.offset(T,(S.V-1)*7),S.y=T.getFullYear(),S.m=T.getMonth(),S.d=T.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),ee="Z"in S?Yn(Lt(S.y,0,1)).getUTCDay():Fn(Lt(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(ee+5)%7:S.w+S.U*7-(ee+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,Yn(S)):Fn(S)}}function C(L,R,ie,S){for(var w=0,T=R.length,ee=ie.length,he,q;w<T;){if(S>=ee)return-1;if(he=R.charCodeAt(w++),he===37){if(he=R.charAt(w++),q=W[he in yl?R.charAt(w++):he],!q||(S=q(L,ie,S))<0)return-1}else if(he!=ie.charCodeAt(S++))return-1}return S}function D(L,R,ie){var S=f.exec(R.slice(ie));return S?(L.p=c.get(S[0].toLowerCase()),ie+S[0].length):-1}function N(L,R,ie){var S=d.exec(R.slice(ie));return S?(L.w=_.get(S[0].toLowerCase()),ie+S[0].length):-1}function z(L,R,ie){var S=u.exec(R.slice(ie));return S?(L.w=h.get(S[0].toLowerCase()),ie+S[0].length):-1}function te(L,R,ie){var S=p.exec(R.slice(ie));return S?(L.m=k.get(S[0].toLowerCase()),ie+S[0].length):-1}function j(L,R,ie){var S=g.exec(R.slice(ie));return S?(L.m=y.get(S[0].toLowerCase()),ie+S[0].length):-1}function O(L,R,ie){return C(L,t,R,ie)}function U(L,R,ie){return C(L,n,R,ie)}function B(L,R,ie){return C(L,r,R,ie)}function P(L){return i[L.getDay()]}function Q(L){return a[L.getDay()]}function ne(L){return s[L.getMonth()]}function ye(L){return o[L.getMonth()]}function fe(L){return l[+(L.getHours()>=12)]}function He(L){return 1+~~(L.getMonth()/3)}function Te(L){return i[L.getUTCDay()]}function re(L){return a[L.getUTCDay()]}function Xe(L){return s[L.getUTCMonth()]}function Fe(L){return o[L.getUTCMonth()]}function ae(L){return l[+(L.getUTCHours()>=12)]}function Cn(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var R=A(L+="",I);return R.toString=function(){return L},R},parse:function(L){var R=H(L+="",!1);return R.toString=function(){return L},R},utcFormat:function(L){var R=A(L+="",V);return R.toString=function(){return L},R},utcParse:function(L){var R=H(L+="",!0);return R.toString=function(){return L},R}}}var yl={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,uf=/^%/,sf=/[\\^$*+?|[\]().{}]/g;function se(e,t,n){var r=e<0?"-":"",l=(r?-e:e)+"",a=l.length;return r+(a<n?new Array(n-a+1).join(t)+l:l)}function cf(e){return e.replace(sf,"\\$&")}function Ot(e){return new RegExp("^(?:"+e.map(cf).join("|")+")","i")}function Ft(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hf(e,t,n){var r=pe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function df(e,t,n){var r=pe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function wl(e,t,n){var r=pe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ml(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _f(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pf(e,t,n){var r=pe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kl(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yf(e,t,n){var r=pe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Sl(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Mf(e,t,n){var r=pe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kf(e,t,n){var r=pe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Sf(e,t,n){var r=pe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tf(e,t,n){var r=uf.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nf(e,t,n){var r=pe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cf(e,t,n){var r=pe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Tl(e,t){return se(e.getDate(),t,2)}function Ef(e,t){return se(e.getHours(),t,2)}function Df(e,t){return se(e.getHours()%12||12,t,2)}function Uf(e,t){return se(1+it.count(Ze(e),e),t,3)}function li(e,t){return se(e.getMilliseconds(),t,3)}function zf(e,t){return li(e,t)+"000"}function Af(e,t){return se(e.getMonth()+1,t,2)}function qf(e,t){return se(e.getMinutes(),t,2)}function If(e,t){return se(e.getSeconds(),t,2)}function Lf(e){var t=e.getDay();return t===0?7:t}function Of(e,t){return se(Qt.count(Ze(e)-1,e),t,2)}function ai(e){var t=e.getDay();return t>=4||t===0?Et(e):Et.ceil(e)}function Ff(e,t){return e=ai(e),se(Et.count(Ze(e),e)+(Ze(e).getDay()===4),t,2)}function Yf(e){return e.getDay()}function Pf(e,t){return se(un.count(Ze(e)-1,e),t,2)}function Rf(e,t){return se(e.getFullYear()%100,t,2)}function Hf(e,t){return e=ai(e),se(e.getFullYear()%100,t,2)}function Wf(e,t){return se(e.getFullYear()%1e4,t,4)}function Bf(e,t){var n=e.getDay();return e=n>=4||n===0?Et(e):Et.ceil(e),se(e.getFullYear()%1e4,t,4)}function Vf(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+se(t/60|0,"0",2)+se(t%60,"0",2)}function Nl(e,t){return se(e.getUTCDate(),t,2)}function Gf(e,t){return se(e.getUTCHours(),t,2)}function Xf(e,t){return se(e.getUTCHours()%12||12,t,2)}function jf(e,t){return se(1+dt.count(Qe(e),e),t,3)}function ii(e,t){return se(e.getUTCMilliseconds(),t,3)}function xf(e,t){return ii(e,t)+"000"}function Zf(e,t){return se(e.getUTCMonth()+1,t,2)}function Qf(e,t){return se(e.getUTCMinutes(),t,2)}function Jf(e,t){return se(e.getUTCSeconds(),t,2)}function Kf(e){var t=e.getUTCDay();return t===0?7:t}function $f(e,t){return se(Jt.count(Qe(e)-1,e),t,2)}function oi(e){var t=e.getUTCDay();return t>=4||t===0?Dt(e):Dt.ceil(e)}function eu(e,t){return e=oi(e),se(Dt.count(Qe(e),e)+(Qe(e).getUTCDay()===4),t,2)}function tu(e){return e.getUTCDay()}function nu(e,t){return se(sn.count(Qe(e)-1,e),t,2)}function ru(e,t){return se(e.getUTCFullYear()%100,t,2)}function lu(e,t){return e=oi(e),se(e.getUTCFullYear()%100,t,2)}function au(e,t){return se(e.getUTCFullYear()%1e4,t,4)}function iu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dt(e):Dt.ceil(e),se(e.getUTCFullYear()%1e4,t,4)}function ou(){return"+0000"}function Cl(){return"%"}function El(e){return+e}function Dl(e){return Math.floor(+e/1e3)}var vt,fi,ui;fu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fu(e){return vt=ff(e),fi=vt.format,vt.parse,ui=vt.utcFormat,vt.utcParse,vt}function uu(e){return new Date(e)}function su(e){return e instanceof Date?+e:+new Date(+e)}function _r(e,t,n,r,l,a,i,o,s,f){var c=Ga(),u=c.invert,h=c.domain,d=f(".%L"),_=f(":%S"),g=f("%I:%M"),y=f("%I %p"),p=f("%a %d"),k=f("%b %d"),I=f("%B"),V=f("%Y");function W(A){return(s(A)<A?d:o(A)<A?_:i(A)<A?g:a(A)<A?y:r(A)<A?l(A)<A?p:k:n(A)<A?I:V)(A)}return c.invert=function(A){return new Date(u(A))},c.domain=function(A){return arguments.length?h(Array.from(A,su)):h().map(uu)},c.ticks=function(A){var H=h();return e(H[0],H[H.length-1],A??10)},c.tickFormat=function(A,H){return H==null?W:f(H)},c.nice=function(A){var H=h();return(!A||typeof A.range!="function")&&(A=t(H[0],H[H.length-1],A??10)),A?h(Qa(H,A)):c},c.copy=function(){return Zt(c,_r(e,t,n,r,l,a,i,o,s,f))},c}function cu(){return Je.apply(_r(af,of,Ze,Vt,Qt,it,wn,vn,tt,fi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hu(){return Je.apply(_r(rf,lf,Qe,Gt,Jt,dt,Mn,yn,tt,ui).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kn(){var e=0,t=1,n,r,l,a,i=Ce,o=!1,s;function f(u){return u==null||isNaN(u=+u)?s:i(l===0?.5:(u=(a(u)-n)*l,o?Math.max(0,Math.min(1,u)):u))}f.domain=function(u){return arguments.length?([e,t]=u,n=a(e=+e),r=a(t=+t),l=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(u){return arguments.length?(o=!!u,f):o},f.interpolator=function(u){return arguments.length?(i=u,f):i};function c(u){return function(h){var d,_;return arguments.length?([d,_]=h,i=u(d,_),f):[i(0),i(1)]}}return f.range=c(mt),f.rangeRound=c(_n),f.unknown=function(u){return arguments.length?(s=u,f):s},function(u){return a=u,n=u(e),r=u(t),l=n===r?0:1/(r-n),f}}function ut(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pr(){var e=bt(kn()(Ce));return e.copy=function(){return ut(e,pr())},ot.apply(e,arguments)}function si(){var e=hr(kn()).domain([1,10]);return e.copy=function(){return ut(e,si()).base(e.base())},ot.apply(e,arguments)}function ci(){var e=dr(kn());return e.copy=function(){return ut(e,ci()).constant(e.constant())},ot.apply(e,arguments)}function vr(){var e=gr(kn());return e.copy=function(){return ut(e,vr()).exponent(e.exponent())},ot.apply(e,arguments)}function du(){return vr.apply(null,arguments).exponent(.5)}function Sn(){var e=0,t=.5,n=1,r=1,l,a,i,o,s,f=Ce,c,u=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-a)*(r*g<r*a?o:s),f(u?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,l=c(e=+e),a=c(t=+t),i=c(n=+n),o=l===a?0:.5/(a-l),s=a===i?0:.5/(i-a),r=a<l?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(u=!!g,d):u},d.interpolator=function(g){return arguments.length?(f=g,d):f};function _(g){return function(y){var p,k,I;return arguments.length?([p,k,I]=y,f=ur(g,[p,k,I]),d):[f(0),f(.5),f(1)]}}return d.range=_(mt),d.rangeRound=_(_n),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return c=g,l=g(e),a=g(t),i=g(n),o=l===a?0:.5/(a-l),s=a===i?0:.5/(i-a),r=a<l?-1:1,d}}function hi(){var e=bt(Sn()(Ce));return e.copy=function(){return ut(e,hi())},ot.apply(e,arguments)}function di(){var e=hr(Sn()).domain([.1,1,10]);return e.copy=function(){return ut(e,di()).base(e.base())},ot.apply(e,arguments)}function gi(){var e=dr(Sn());return e.copy=function(){return ut(e,gi()).constant(e.constant())},ot.apply(e,arguments)}function yr(){var e=gr(Sn());return e.copy=function(){return ut(e,yr()).exponent(e.exponent())},ot.apply(e,arguments)}function gu(){return yr.apply(null,arguments).exponent(.5)}class mu{constructor(t,n){It(this,"scaleLin");this.matrix=t;const r=a=>a.isLeaf()||n.has(a.data.id),l=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const a of t.classes())for(const i of t.classes())if(r(a)&&r(i)){const o=t.frequency(a,i);l[1]=Math.max(l[1],o),o>0&&(l[0]=Math.min(l[0],o))}this.scaleLin=Re().domain(l)}scale(){return this.scaleLin}value(t,n){return this.scaleLin(this.matrix.frequency(t,n))}}class bu{constructor(t){It(this,"scaleMap");this.matrix=t;const n=new Map;for(const r of t.classes())n.set(r,Re().domain([0,t.totalRow(r)]));this.scaleMap=n}scale(){return Re()}value(t,n){return this.scaleMap.get(t)(this.matrix.frequency(t,n))}}class _u{constructor(t){It(this,"scaleMap");this.matrix=t;const n=new Map;for(const r of t.classes())n.set(r,Re().domain([0,t.totalColumn(r)]));this.scaleMap=n}scale(){return Re()}value(t,n){return this.scaleMap.get(n)(this.matrix.frequency(t,n))}}function Xt(e,t){const n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],r=/\.0+$|(\.[0-9]*[1-9])0+$/;let l;for(l=n.length-1;l>0&&!(e>=n[l].value);l--);return(e/n[l].value).toFixed(t).replace(r,"$1")+n[l].symbol}class Pn{constructor(t,n,r,l=2){this.matrix=t,this.desc=n,this.fn=r,this.digits=l}name(){return this.desc}value(t){const n=this.fn(this.matrix,t),r=n.toFixed(this.digits);return[n,r]}}class yt{constructor(t,n,r){It(this,"scale");this.matrix=t,this.desc=n,this.fn=r;const l=[1/0,-1/0];this.matrix.axis.preorder(a=>{const i=r(t,a);l[0]=Math.min(l[0],i),l[1]=Math.max(l[1],i)}),this.scale=Re().domain(l)}name(){return this.desc}value(t){const n=this.fn(this.matrix,t),r=this.scale(n),l=Xt(n,0);return[r,l]}}function pu(e,t){switch(t){case"precision":return new Pn(e,"Precision",Ei);case"recall":return new Pn(e,"Recall",Ci);case"accuracy":return new Pn(e,"Accuracy",Ni);case"countActual":return new yt(e,"Count Actual",(n,r)=>n.totalRow(r));case"countObserved":return new yt(e,"Count Observed",(n,r)=>n.totalColumn(r));case"truePositives":return new yt(e,"True Positives",(n,r)=>n.truePositives(r));case"trueNegatives":return new yt(e,"True Negatives",(n,r)=>n.trueNegatives(r));case"falsePositives":return new yt(e,"False Positives",(n,r)=>n.falsePositives(r));case"falseNegatives":return new yt(e,"False Negatives",(n,r)=>n.falseNegatives(r));default:throw new Error(`No such measure: ${t}.`)}}function vu(e,t,n){switch(n){case"total":return new mu(e,t);case"row":return new bu(e);case"column":return new _u(e);default:throw new Error(`No such normalization: ${n}.`)}}const Ee=_a(null),ue=_a(null);function yu(e){let t,n,r;return{c(){t=x("rect"),this.h()},l(l){t=Z(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,opacity:!0}),M(t).forEach(b),this.h()},h(){m(t,"x",e[0]),m(t,"y",e[1]),m(t,"width",e[2]),m(t,"height",e[2]),m(t,"fill","white"),m(t,"stroke","none"),m(t,"opacity","0.0")},m(l,a){E(l,t,a),n||(r=[J(t,"mouseout",e[4]),J(t,"blur",e[4]),J(t,"mouseover",e[3]),J(t,"focus",e[3])],n=!0)},p(l,[a]){a&1&&m(t,"x",l[0]),a&2&&m(t,"y",l[1]),a&4&&m(t,"width",l[2]),a&4&&m(t,"height",l[2])},i:oe,o:oe,d(l){l&&b(t),n=!1,Oe(r)}}}function wu(e,t,n){let r;Pe(e,Ee,u=>n(7,r=u));let{x:l=0}=t,{y:a=0}=t,{actual:i=null}=t,{predict:o=null}=t,{cellSize:s=10}=t;function f(){ge(Ee,r=[i,o],r)}function c(){ge(Ee,r=null,r)}return e.$$set=u=>{"x"in u&&n(0,l=u.x),"y"in u&&n(1,a=u.y),"actual"in u&&n(5,i=u.actual),"predict"in u&&n(6,o=u.predict),"cellSize"in u&&n(2,s=u.cellSize)},[l,a,s,f,c,i,o]}class Mu extends qe{constructor(t){super(),Ie(this,t,wu,yu,Le,{x:0,y:1,actual:5,predict:6,cellSize:2})}}function At(e,t,n){return e.fields=t||[],e.fname=n,e}function ku(e){return e.length===1?Su(e[0]):Tu(e)}const Su=e=>function(t){return t[e]},Tu=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Rn(e){throw Error(e)}function Nu(e){const t=[],n=e.length;let r=null,l=0,a="",i,o,s;e=e+"";function f(){t.push(a+e.substring(i,o)),a="",i=o+1}for(i=o=0;o<n;++o)if(s=e[o],s==="\\")a+=e.substring(i,o),a+=e.substring(++o,++o),i=o;else if(s===r)f(),r=null,l=-1;else{if(r)continue;i===l&&s==='"'||i===l&&s==="'"?(i=o+1,r=s):s==="."&&!l?o>i?f():i=o+1:s==="["?(o>i&&f(),l=i=o+1):s==="]"&&(l||Rn("Access path missing open bracket: "+e),l>0&&f(),l=0,i=o+1)}return l&&Rn("Access path missing closing bracket: "+e),r&&Rn("Access path missing closing quote: "+e),o>i&&(o++,f()),t}function Cu(e,t,n){const r=Nu(e);return e=r.length===1?r[0]:e,At((n&&n.get||ku)(r),[e],t||e)}Cu("id");At(e=>e,[],"identity");At(()=>0,[],"zero");At(()=>1,[],"one");At(()=>!0,[],"true");At(()=>!1,[],"false");var Eu=Array.isArray;function Du(e){return e[e.length-1]}function Uu(e){return e==null||e===""?null:+e}function zu(e){return e!=null?Eu(e)?e:[e]:[]}function Au(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}const wr="year",Mr="quarter",kr="month",Sr="week",Tr="date",Nr="day",Cr="dayofyear",Er="hours",Dr="minutes",Ur="seconds",zr="milliseconds",qu=[wr,Mr,kr,Sr,Tr,Nr,Cr,Er,Dr,Ur,zr];qu.reduce((e,t,n)=>(e[t]=1+n,e),{});wr+"",Mr+"",Vt.every(3),kr+"",Sr+"",Tr+"",Nr+"",Cr+"",Er+"",Dr+"",Ur+"",zr+"";wr+"",Mr+"",Gt.every(3),kr+"",Sr+"",Tr+"",Nr+"",Cr+"",Er+"",Dr+"",Ur+"",zr+"";function Iu(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Lu="identity",Ar="linear",Ut="log",qr="pow",Ir="sqrt",Lr="symlog",Ou="time",Fu="utc",qt="sequential",Kt="diverging",Ul="quantile",Yu="quantize",Pu="threshold",Ru="ordinal",Hu="point",Wu="band",Bu="bin-ordinal",ve="continuous",Tn="discrete",Nn="discretizing",Ge="interpolating",mi="temporal";function Vu(e){return function(t){let n=t[0],r=t[1],l;return r<n&&(l=n,n=r,r=l),[e.invert(n),e.invert(r)]}}function Gu(e){return function(t){const n=e.range();let r=t[0],l=t[1],a=-1,i,o,s,f;for(l<r&&(o=r,r=l,l=o),s=0,f=n.length;s<f;++s)n[s]>=r&&n[s]<=l&&(a<0&&(a=s),i=s);if(!(a<0))return r=e.invertExtent(n[a]),l=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],l[1]===void 0?l[0]:l[1]]}}function Or(){const e=lr().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],l,a,i=!1,o=0,s=0,f=.5;delete e.unknown;function c(){const u=t().length,h=r[1]<r[0],d=r[1-h],_=Iu(u,o,s);let g=r[h-0];l=(d-g)/(_||1),i&&(l=Math.floor(l)),g+=(d-g-l*(u-o))*f,a=l*(1-o),i&&(g=Math.round(g),a=Math.round(a));const y=Pi(u).map(p=>g+l*p);return n(h?y.reverse():y)}return e.domain=function(u){return arguments.length?(t(u),c()):t()},e.range=function(u){return arguments.length?(r=[+u[0],+u[1]],c()):r.slice()},e.rangeRound=function(u){return r=[+u[0],+u[1]],i=!0,c()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(u){return arguments.length?(i=!!u,c()):i},e.padding=function(u){return arguments.length?(s=Math.max(0,Math.min(1,u)),o=s,c()):o},e.paddingInner=function(u){return arguments.length?(o=Math.max(0,Math.min(1,u)),c()):o},e.paddingOuter=function(u){return arguments.length?(s=Math.max(0,Math.min(1,u)),c()):s},e.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),c()):f},e.invertRange=function(u){if(u[0]==null||u[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),_=d.length-1;let g=+u[0],y=+u[1],p,k,I;if(!(g!==g||y!==y)&&(y<g&&(I=g,g=y,y=I),!(y<d[0]||g>r[1-h])))return p=Math.max(0,Bn(d,g)-1),k=g===y?p:Bn(d,y)-1,g-d[p]>a+1e-10&&++p,h&&(I=p,p=_-k,k=_-I),p>k?void 0:t().slice(p,k+1)},e.invert=function(u){const h=e.invertRange([u,u]);return h&&h[0]},e.copy=function(){return Or().domain(t()).range(r).round(i).paddingInner(o).paddingOuter(s).align(f)},c()}function bi(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return bi(t())},e}function Xu(){return bi(Or().paddingInner(1))}var ju=Array.prototype.map;function xu(e){return ju.call(e,Uu)}const Zu=Array.prototype.slice;function _i(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(jt(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=xu(r),n):e.slice()},n.range=function(r){return arguments.length?(t=Zu.call(r),n):t.slice()},n.tickFormat=function(r,l){return xa(e[0],Du(e),r??10,l)},n.copy=function(){return _i().domain(n.domain()).range(n.range())},n}const nr=new Map,Qu=Symbol("vega_scale");function Ju(e){return e[Qu]=!0,e}function Ku(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?Vu(a):a.invertExtent?Gu(a):void 0),a.type=e,Ju(a)};return r.metadata=Au(zu(n)),r}function de(e,t,n){return arguments.length>1?(nr.set(e,Ku(e,t,n)),this):$u(e)?nr.get(e):void 0}de(Lu,Za);de(Ar,Re,ve);de(Ut,Ja,[ve,Ut]);de(qr,mr,ve);de(Ir,xo,ve);de(Lr,Ka,ve);de(Ou,cu,[ve,mi]);de(Fu,hu,[ve,mi]);de(qt,pr,[ve,Ge]);de(`${qt}-${Ar}`,pr,[ve,Ge]);de(`${qt}-${Ut}`,si,[ve,Ge,Ut]);de(`${qt}-${qr}`,vr,[ve,Ge]);de(`${qt}-${Ir}`,du,[ve,Ge]);de(`${qt}-${Lr}`,ci,[ve,Ge]);de(`${Kt}-${Ar}`,hi,[ve,Ge]);de(`${Kt}-${Ut}`,di,[ve,Ge,Ut]);de(`${Kt}-${qr}`,yr,[ve,Ge]);de(`${Kt}-${Ir}`,gu,[ve,Ge]);de(`${Kt}-${Lr}`,gi,[ve,Ge]);de(Ul,$a,[Nn,Ul]);de(Yu,ei,Nn);de(Pu,ti,Nn);de(Bu,_i,[Tn,Nn]);de(Ru,lr,Tn);de(Wu,Or,Tn);de(Hu,Xu,Tn);function $u(e){return nr.has(e)}function es(e,t,n){return ur(ts(t||"rgb",n),e)}function ts(e,t){const n=To[ns(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function ns(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const rs={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ls={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function pi(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function vi(e,t){for(const n in e)Fr(n,t(e[n]))}const zl={};vi(ls,pi);vi(rs,e=>es(pi(e)));function Fr(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(zl[e]=t,this):zl[e]}function as(e){let t,n,r,l;return{c(){t=x("rect"),this.h()},l(a){t=Z(a,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),M(t).forEach(b),this.h()},h(){m(t,"class","outline svelte-1l9n80m"),m(t,"x",e[0]),m(t,"y",e[1]),m(t,"width",e[3]),m(t,"height",e[3]),m(t,"fill",n=e[4](e[2]))},m(a,i){E(a,t,i),r||(l=[J(t,"mouseout",e[6]),J(t,"blur",e[6]),J(t,"mouseover",e[5]),J(t,"focus",e[5])],r=!0)},p(a,[i]){i&1&&m(t,"x",a[0]),i&2&&m(t,"y",a[1]),i&8&&m(t,"width",a[3]),i&8&&m(t,"height",a[3]),i&4&&n!==(n=a[4](a[2]))&&m(t,"fill",n)},i:oe,o:oe,d(a){a&&b(t),r=!1,Oe(l)}}}function is(e,t,n){let r;Pe(e,Ee,d=>n(9,r=d));const l=Fr("lighttealblue");let{x:a=0}=t,{y:i=0}=t,{actual:o=null}=t,{predict:s=null}=t,{value:f=null}=t,{cellSize:c=10}=t;function u(){ge(Ee,r=[o,s],r)}function h(){ge(Ee,r=null,r)}return e.$$set=d=>{"x"in d&&n(0,a=d.x),"y"in d&&n(1,i=d.y),"actual"in d&&n(7,o=d.actual),"predict"in d&&n(8,s=d.predict),"value"in d&&n(2,f=d.value),"cellSize"in d&&n(3,c=d.cellSize)},[a,i,f,c,l,u,h,o,s]}class os extends qe{constructor(t){super(),Ie(this,t,is,as,Le,{x:0,y:1,actual:7,predict:8,value:2,cellSize:3})}}function fs(e){let t,n,r,l,a;return{c(){t=x("rect"),n=K(),r=x("rect"),this.h()},l(i){t=Z(i,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),M(t).forEach(b),n=$(i),r=Z(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),M(r).forEach(b),this.h()},h(){m(t,"x",e[6]),m(t,"y",e[5]),m(t,"width",e[4]),m(t,"height",e[4]),m(t,"fill",e[2]),m(r,"class","outline svelte-qmk1cu"),m(r,"x",e[0]),m(r,"y",e[1]),m(r,"width",e[3]),m(r,"height",e[3])},m(i,o){E(i,t,o),E(i,n,o),E(i,r,o),l||(a=[J(r,"mouseout",e[8]),J(r,"blur",e[8]),J(r,"mouseover",e[7]),J(r,"focus",e[7])],l=!0)},p(i,[o]){o&64&&m(t,"x",i[6]),o&32&&m(t,"y",i[5]),o&16&&m(t,"width",i[4]),o&16&&m(t,"height",i[4]),o&4&&m(t,"fill",i[2]),o&1&&m(r,"x",i[0]),o&2&&m(r,"y",i[1]),o&8&&m(r,"width",i[3]),o&8&&m(r,"height",i[3])},i:oe,o:oe,d(i){i&&b(t),i&&b(n),i&&b(r),l=!1,Oe(a)}}}const us=2;function ss(e,t,n){let r,l,a,i;Pe(e,Ee,p=>n(12,i=p));let{x:o=0}=t,{y:s=0}=t,{actual:f=null}=t,{predict:c=null}=t,{value:u=null}=t,{color:h="rgb(0,0,0)"}=t,{cellSize:d=10}=t;const _=Re().range([us**2,d**2]);function g(){ge(Ee,i=[f,c],i)}function y(){ge(Ee,i=null,i)}return e.$$set=p=>{"x"in p&&n(0,o=p.x),"y"in p&&n(1,s=p.y),"actual"in p&&n(9,f=p.actual),"predict"in p&&n(10,c=p.predict),"value"in p&&n(11,u=p.value),"color"in p&&n(2,h=p.color),"cellSize"in p&&n(3,d=p.cellSize)},e.$$.update=()=>{e.$$.dirty&2048&&n(4,r=Math.sqrt(_(u))),e.$$.dirty&25&&n(6,l=o+(d-r)/2),e.$$.dirty&26&&n(5,a=s+(d-r)/2)},[o,s,h,d,r,a,l,g,y,f,c,u]}class cs extends qe{constructor(t){super(),Ie(this,t,ss,fs,Le,{x:0,y:1,actual:9,predict:10,value:11,color:2,cellSize:3})}}function hs(e){let t,n=e[0][1]+"",r,l,a,i,o,s,f,c;return{c(){t=x("text"),r=G(n),a=K(),i=x("g"),o=x("rect"),s=x("rect"),this.h()},l(u){t=Z(u,"text",{y:!0,"dominant-baseline":!0,class:!0});var h=M(t);r=X(h,n),h.forEach(b),a=$(u),i=Z(u,"g",{transform:!0});var d=M(i);o=Z(d,"rect",{width:!0,height:!0,fill:!0}),M(o).forEach(b),s=Z(d,"rect",{width:!0,height:!0,fill:!0}),M(s).forEach(b),d.forEach(b),this.h()},h(){m(t,"y",l=e[1]/2),m(t,"dominant-baseline","middle"),m(t,"class","label svelte-1fj6eqt"),m(o,"width",e[2]),m(o,"height",e[3]),m(o,"fill","#eeeeee"),m(s,"width",f=e[4]*e[2]),m(s,"height",3),m(s,"fill","#0066cc"),m(i,"transform",c="translate(0,"+(e[1]-e[3])+")")},m(u,h){E(u,t,h),v(t,r),E(u,a,h),E(u,i,h),v(i,o),v(i,s)},p(u,[h]){h&1&&n!==(n=u[0][1]+"")&&Me(r,n),h&2&&l!==(l=u[1]/2)&&m(t,"y",l),h&4&&m(o,"width",u[2]),h&8&&m(o,"height",u[3]),h&20&&f!==(f=u[4]*u[2])&&m(s,"width",f),h&10&&c!==(c="translate(0,"+(u[1]-u[3])+")")&&m(i,"transform",c)},i:oe,o:oe,d(u){u&&b(t),u&&b(a),u&&b(i)}}}function ds(e,t,n){let r,{statistic:l}=t,{cellSize:a=15}=t,{columnWidth:i=30}=t,{height:o=3}=t;return e.$$set=s=>{"statistic"in s&&n(0,l=s.statistic),"cellSize"in s&&n(1,a=s.cellSize),"columnWidth"in s&&n(2,i=s.columnWidth),"height"in s&&n(3,o=s.height)},e.$$.update=()=>{e.$$.dirty&1&&n(4,r=Number.isNaN(l[0])?0:l[0])},[l,a,i,o,r]}class gs extends qe{constructor(t){super(),Ie(this,t,ds,hs,Le,{statistic:0,cellSize:1,columnWidth:2,height:3})}}function ms(e){let t,n,r,l,a,i,o,s,f;return{c(){t=x("line"),i=K(),o=x("rect"),this.h()},l(c){t=Z(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),M(t).forEach(b),i=$(c),o=Z(c,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),M(o).forEach(b),this.h()},h(){m(t,"x1",n=e[0]+e[2]/8*3),m(t,"y1",r=e[1]+e[2]/8*3),m(t,"x2",l=e[0]+e[2]/8*5),m(t,"y2",a=e[1]+e[2]/8*5),m(t,"stroke","#eeeeee"),m(o,"class","outline svelte-qmk1cu"),m(o,"x",e[0]),m(o,"y",e[1]),m(o,"width",e[2]),m(o,"height",e[2])},m(c,u){E(c,t,u),E(c,i,u),E(c,o,u),s||(f=[J(o,"mouseout",e[4]),J(o,"blur",e[4]),J(o,"mouseover",e[3]),J(o,"focus",e[3])],s=!0)},p(c,[u]){u&5&&n!==(n=c[0]+c[2]/8*3)&&m(t,"x1",n),u&6&&r!==(r=c[1]+c[2]/8*3)&&m(t,"y1",r),u&5&&l!==(l=c[0]+c[2]/8*5)&&m(t,"x2",l),u&6&&a!==(a=c[1]+c[2]/8*5)&&m(t,"y2",a),u&1&&m(o,"x",c[0]),u&2&&m(o,"y",c[1]),u&4&&m(o,"width",c[2]),u&4&&m(o,"height",c[2])},i:oe,o:oe,d(c){c&&b(t),c&&b(i),c&&b(o),s=!1,Oe(f)}}}function bs(e,t,n){let r;Pe(e,Ee,u=>n(7,r=u));let{x:l=0}=t,{y:a=0}=t,{actual:i=null}=t,{predict:o=null}=t,{cellSize:s=10}=t;function f(){ge(Ee,r=[i,o],r)}function c(){ge(Ee,r=null,r)}return e.$$set=u=>{"x"in u&&n(0,l=u.x),"y"in u&&n(1,a=u.y),"actual"in u&&n(5,i=u.actual),"predict"in u&&n(6,o=u.predict),"cellSize"in u&&n(2,s=u.cellSize)},[l,a,s,f,c,i,o]}class _s extends qe{constructor(t){super(),Ie(this,t,bs,ms,Le,{x:0,y:1,actual:5,predict:6,cellSize:2})}}function ps(e){let t,n,r,l,a,i,o=e[4](e[0].data.name)+"",s,f,c,u,h,d;function _(p,k){var I;return k&5&&(c=null),c==null&&(c=!!((I=p[2].filter)!=null&&I.includes(p[0].data.id))),c?Ms:ws}let g=_(e,-1),y=g(e);return{c(){t=x("text"),n=x("tspan"),r=x("tspan"),l=G("⋁"),a=K(),i=x("tspan"),s=G(o),f=K(),y.c(),this.h()},l(p){t=Z(p,"text",{"dominant-baseline":!0,style:!0,class:!0});var k=M(t);n=Z(k,"tspan",{});var I=M(n);r=Z(I,"tspan",{"dominant-baseline":!0,class:!0});var V=M(r);l=X(V,"⋁"),V.forEach(b),a=$(I),i=Z(I,"tspan",{"dominant-baseline":!0,x:!0});var W=M(i);s=X(W,o),W.forEach(b),I.forEach(b),f=$(k),y.l(k),k.forEach(b),this.h()},h(){m(r,"dominant-baseline","middle"),m(r,"class","collapseIcon svelte-1kemenq"),m(i,"dominant-baseline","middle"),m(i,"x","10"),m(t,"dominant-baseline","middle"),dn(t,"cursor","pointer"),m(t,"class",u=nt(e[3]&&e[3][e[1]]===e[0]?"label active":"label")+" svelte-1kemenq")},m(p,k){E(p,t,k),v(t,n),v(n,r),v(r,l),v(n,a),v(n,i),v(i,s),v(t,f),y.m(t,null),h||(d=[J(n,"click",e[6]),J(n,"keydown",e[6])],h=!0)},p(p,k){k&1&&o!==(o=p[4](p[0].data.name)+"")&&Me(s,o),g===(g=_(p,k))&&y?y.p(p,k):(y.d(1),y=g(p),y&&(y.c(),y.m(t,null))),k&11&&u!==(u=nt(p[3]&&p[3][p[1]]===p[0]?"label active":"label")+" svelte-1kemenq")&&m(t,"class",u)},d(p){p&&b(t),y.d(),h=!1,Oe(d)}}}function vs(e){let t,n,r=">",l,a,i=e[4](e[0].data.name)+"",o,s,f,c;return{c(){t=x("text"),n=x("tspan"),l=G(r),a=K(),o=G(i),this.h()},l(u){t=Z(u,"text",{"dominant-baseline":!0,style:!0,class:!0});var h=M(t);n=Z(h,"tspan",{"dominant-baseline":!0,class:!0});var d=M(n);l=X(d,r),d.forEach(b),a=$(h),o=X(h,i),h.forEach(b),this.h()},h(){m(n,"dominant-baseline","middle"),m(n,"class","collapseIcon svelte-1kemenq"),m(t,"dominant-baseline","middle"),dn(t,"cursor","pointer"),m(t,"class",s=nt(e[3]&&e[3][e[1]]===e[0]?"label active":"label")+" svelte-1kemenq")},m(u,h){E(u,t,h),v(t,n),v(n,l),v(t,a),v(t,o),f||(c=[J(t,"click",e[5]),J(t,"keydown",e[5])],f=!0)},p(u,h){h&1&&i!==(i=u[4](u[0].data.name)+"")&&Me(o,i),h&11&&s!==(s=nt(u[3]&&u[3][u[1]]===u[0]?"label active":"label")+" svelte-1kemenq")&&m(t,"class",s)},d(u){u&&b(t),f=!1,Oe(c)}}}function ys(e){let t,n=e[4](e[0].data.name)+"",r,l;return{c(){t=x("text"),r=G(n),this.h()},l(a){t=Z(a,"text",{"dominant-baseline":!0,style:!0,class:!0});var i=M(t);r=X(i,n),i.forEach(b),this.h()},h(){m(t,"dominant-baseline","middle"),dn(t,"cursor","default"),m(t,"class",l=nt(e[3]&&e[3][e[1]]===e[0]?"label active":"label")+" svelte-1kemenq")},m(a,i){E(a,t,i),v(t,r)},p(a,i){i&1&&n!==(n=a[4](a[0].data.name)+"")&&Me(r,n),i&11&&l!==(l=nt(a[3]&&a[3][a[1]]===a[0]?"label active":"label")+" svelte-1kemenq")&&m(t,"class",l)},d(a){a&&b(t)}}}function ws(e){let t,n,r,l;return{c(){t=x("tspan"),n=G("🔎"),this.h()},l(a){t=Z(a,"tspan",{y:!0});var i=M(t);n=X(i,"🔎"),i.forEach(b),this.h()},h(){m(t,"y","2")},m(a,i){E(a,t,i),v(t,n),r||(l=[J(t,"click",e[8]),J(t,"keydown",e[8])],r=!0)},p:oe,d(a){a&&b(t),r=!1,Oe(l)}}}function Ms(e){let t,n,r,l;return{c(){t=x("tspan"),n=G("❌"),this.h()},l(a){t=Z(a,"tspan",{"dominant-baseline":!0});var i=M(t);n=X(i,"❌"),i.forEach(b),this.h()},h(){m(t,"dominant-baseline","middle")},m(a,i){E(a,t,i),v(t,n),r||(l=[J(t,"click",e[7]),J(t,"keydown",e[7])],r=!0)},p:oe,d(a){a&&b(t),r=!1,Oe(l)}}}function ks(e){let t,n,r;function l(o,s){return s&1&&(t=null),s&5&&(n=null),t==null&&(t=!!o[0].isLeaf()),t?ys:(n==null&&(n=!!o[2].collapsed.includes(o[0].data.id)),n?vs:ps)}let a=l(e,-1),i=a(e);return{c(){i.c(),r=Se()},l(o){i.l(o),r=Se()},m(o,s){i.m(o,s),E(o,r,s)},p(o,[s]){a===(a=l(o,s))&&i?i.p(o,s):(i.d(1),i=a(o),i&&(i.c(),i.m(r.parentNode,r)))},i:oe,o:oe,d(o){i.d(o),o&&b(r)}}}function Ss(e,t,n){let r,l;Pe(e,ue,d=>n(2,r=d)),Pe(e,Ee,d=>n(3,l=d));let{node:a=null}=t,{truncateText:i=25}=t,{direction:o=null}=t;function s(d){return d.length>i?d.substring(0,i):d}function f(){const d=r.collapsed.indexOf(a.data.id);d>-1&&(r.collapsed.splice(d,1),ue.set(r))}function c(){r.collapsed.push(a.data.id),ue.set(r)}function u(){const d=new Set(r.filter);d.delete(a.data.id),ge(ue,r.filter=[...d],r),ue.set(r)}function h(){if(!r.filter||r.filter.length===0)ge(ue,r.filter=[a.data.id],r);else{const d=new Set(r.filter);d.add(a.data.id),ge(ue,r.filter=[...d],r)}ue.set(r)}return e.$$set=d=>{"node"in d&&n(0,a=d.node),"truncateText"in d&&n(9,i=d.truncateText),"direction"in d&&n(1,o=d.direction)},[a,o,r,l,s,f,c,u,h,i]}class yi extends qe{constructor(t){super(),Ie(this,t,Ss,ks,Le,{node:0,truncateText:9,direction:1})}}function Al(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ql(e){let t,n,r,l,a,i,o,s,f,c,u=Xt(e[4],1)+"",h,d,_;return{c(){t=x("rect"),i=K(),o=x("rect"),f=K(),c=x("text"),h=G(u),this.h()},l(g){t=Z(g,"rect",{y:!0,x:!0,height:!0,width:!0,fill:!0}),M(t).forEach(b),i=$(g),o=Z(g,"rect",{class:!0,x:!0,width:!0,height:!0}),M(o).forEach(b),f=$(g),c=Z(g,"text",{"dominant-baseline":!0,class:!0,y:!0,x:!0});var y=M(c);h=X(y,u),y.forEach(b),this.h()},h(){m(t,"y",n=(e[1]-Math.sqrt(e[2](e[0](e[4]))))/2),m(t,"x",r=e[6]*(e[1]+wt)+(e[1]-Math.sqrt(e[2](e[0](e[4]))))/2),m(t,"height",l=Math.sqrt(e[2](e[0](e[4])))),m(t,"width",a=Math.sqrt(e[2](e[0](e[4])))),m(t,"fill","rgb(26,133,255)"),m(o,"class","outline svelte-if23ge"),m(o,"x",s=e[6]*(e[1]+wt)),m(o,"width",e[1]),m(o,"height",e[1]),m(c,"dominant-baseline","middle"),m(c,"class","label svelte-if23ge"),m(c,"y",d=e[1]+e[1]/2),m(c,"x",_=e[6]*(e[1]+wt)+e[1]/2)},m(g,y){E(g,t,y),E(g,i,y),E(g,o,y),E(g,f,y),E(g,c,y),v(c,h)},p(g,y){y&15&&n!==(n=(g[1]-Math.sqrt(g[2](g[0](g[4]))))/2)&&m(t,"y",n),y&15&&r!==(r=g[6]*(g[1]+wt)+(g[1]-Math.sqrt(g[2](g[0](g[4]))))/2)&&m(t,"x",r),y&13&&l!==(l=Math.sqrt(g[2](g[0](g[4]))))&&m(t,"height",l),y&13&&a!==(a=Math.sqrt(g[2](g[0](g[4]))))&&m(t,"width",a),y&2&&s!==(s=g[6]*(g[1]+wt))&&m(o,"x",s),y&2&&m(o,"width",g[1]),y&2&&m(o,"height",g[1]),y&8&&u!==(u=Xt(g[4],1)+"")&&Me(h,u),y&2&&d!==(d=g[1]+g[1]/2)&&m(c,"y",d),y&2&&_!==(_=g[6]*(g[1]+wt)+g[1]/2)&&m(c,"x",_)},d(g){g&&b(t),g&&b(i),g&&b(o),g&&b(f),g&&b(c)}}}function Ts(e){let t,n=e[3],r=[];for(let l=0;l<n.length;l+=1)r[l]=ql(Al(e,n,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();t=Se()},l(l){for(let a=0;a<r.length;a+=1)r[a].l(l);t=Se()},m(l,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(l,a);E(l,t,a)},p(l,[a]){if(a&15){n=l[3];let i;for(i=0;i<n.length;i+=1){const o=Al(l,n,i);r[i]?r[i].p(o,a):(r[i]=ql(o),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:oe,o:oe,d(l){ke(r,l),l&&b(t)}}}const wt=3,Ns=2;function Cs(e,t,n){let r,l,{scale:a=Re()}=t,{cellSize:i=10}=t;return e.$$set=o=>{"scale"in o&&n(0,a=o.scale),"cellSize"in o&&n(1,i=o.cellSize)},e.$$.update=()=>{e.$$.dirty&1&&n(3,r=a.ticks(5)),e.$$.dirty&2&&n(2,l=Re().range([Ns**2,i**2]))},[a,i,l,r]}class Es extends qe{constructor(t){super(),Ie(this,t,Cs,Ts,Le,{scale:0,cellSize:1})}}function Il(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function Ll(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ol(e){let t;return{c(){t=x("stop"),this.h()},l(n){t=Z(n,"stop",{offset:!0,"stop-color":!0}),M(t).forEach(b),this.h()},h(){m(t,"offset",e[7]/hn),m(t,"stop-color",e[2](e[7]/hn))},m(n,r){E(n,t,r)},p:oe,d(n){n&&b(t)}}}function Fl(e){let t,n=Xt(e[4],1)+"",r,l,a;return{c(){t=x("text"),r=G(n),this.h()},l(i){t=Z(i,"text",{"dominant-baseline":!0,class:!0,y:!0,x:!0});var o=M(t);r=X(o,n),o.forEach(b),this.h()},h(){m(t,"dominant-baseline","middle"),m(t,"class","label svelte-1xk6k75"),m(t,"y",l=e[0]+e[0]/2),m(t,"x",a=e[6]*(e[0]+cn)+e[0]/2)},m(i,o){E(i,t,o),v(t,r)},p(i,o){o&2&&n!==(n=Xt(i[4],1)+"")&&Me(r,n),o&1&&l!==(l=i[0]+i[0]/2)&&m(t,"y",l),o&1&&a!==(a=i[6]*(i[0]+cn)+i[0]/2)&&m(t,"x",a)},d(i){i&&b(t)}}}function Ds(e){let t,n,r,l,a,i,o,s=[...Array(hn).keys()],f=[];for(let h=0;h<s.length;h+=1)f[h]=Ol(Ll(e,s,h));let c=e[1],u=[];for(let h=0;h<c.length;h+=1)u[h]=Fl(Il(e,c,h));return{c(){t=x("defs"),n=x("linearGradient");for(let h=0;h<f.length;h+=1)f[h].c();r=K(),l=x("rect"),i=K();for(let h=0;h<u.length;h+=1)u[h].c();o=Se(),this.h()},l(h){t=Z(h,"defs",{});var d=M(t);n=Z(d,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var _=M(n);for(let g=0;g<f.length;g+=1)f[g].l(_);_.forEach(b),d.forEach(b),r=$(h),l=Z(h,"rect",{class:!0,height:!0,width:!0,fill:!0}),M(l).forEach(b),i=$(h);for(let g=0;g<u.length;g+=1)u[g].l(h);o=Se(),this.h()},h(){m(n,"id","legendRampGradient"),m(n,"x1","0"),m(n,"y1","0"),m(n,"x2","1"),m(n,"y2","0"),m(l,"class","outline svelte-1xk6k75"),m(l,"height",e[0]),m(l,"width",a=e[1].length*(e[0]+cn)),m(l,"fill","url(#legendRampGradient)")},m(h,d){E(h,t,d),v(t,n);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(n,null);E(h,r,d),E(h,l,d),E(h,i,d);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(h,d);E(h,o,d)},p(h,[d]){if(d&4){s=[...Array(hn).keys()];let _;for(_=0;_<s.length;_+=1){const g=Ll(h,s,_);f[_]?f[_].p(g,d):(f[_]=Ol(g),f[_].c(),f[_].m(n,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=s.length}if(d&1&&m(l,"height",h[0]),d&3&&a!==(a=h[1].length*(h[0]+cn))&&m(l,"width",a),d&3){c=h[1];let _;for(_=0;_<c.length;_+=1){const g=Il(h,c,_);u[_]?u[_].p(g,d):(u[_]=Fl(g),u[_].c(),u[_].m(o.parentNode,o))}for(;_<u.length;_+=1)u[_].d(1);u.length=c.length}},i:oe,o:oe,d(h){h&&b(t),ke(f,h),h&&b(r),h&&b(l),h&&b(i),ke(u,h),h&&b(o)}}}const cn=3,Us=4,hn=16;function zs(e,t,n){let r;const l=Fr("lighttealblue");let{scale:a=Re()}=t,{cellSize:i=10}=t;return e.$$set=o=>{"scale"in o&&n(3,a=o.scale),"cellSize"in o&&n(0,i=o.cellSize)},e.$$.update=()=>{e.$$.dirty&8&&n(1,r=a.ticks(Us))},[i,r,l,a]}class As extends qe{constructor(t){super(),Ie(this,t,zs,Ds,Le,{scale:3,cellSize:0})}}function qs(e,t){const n=[0,0],r=new Map,l=[],a=i=>i.isLeaf()||!e(i);return t.fullorder(i=>{l.push({node:i,pos:[n[0],n[1]]}),n[0]+=1,n[1]+=1,a(i)&&r.set(i,0)},i=>{if(!a(i)){const o=i.children.length+i.children.reduce((s,f)=>s+r.get(f),0);r.set(i,o)}n[0]-=1},e),l.forEach(i=>(i.span=r.get(i.node),i)),l}function Yl(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Pl(e,t,n){const r=e.slice();return r[25]=t[n].node,r[26]=t[n].pos,r}function Rl(e,t,n){const r=e.slice();return r[29]=t[n].node,r[30]=t[n].pos,r}function Hl(e,t,n){const r=e.slice();return r[33]=t[n].node,r[34]=t[n].pos,r}function Wl(e,t,n){const r=e.slice();return r[29]=t[n].node,r[30]=t[n].pos,r[37]=t[n].span,r}function Bl(e,t,n){const r=e.slice();return r[33]=t[n].node,r[34]=t[n].pos,r}function Is(e){let t;return{c(){t=G("Hover over cells to show more information.")},l(n){t=X(n,"Hover over cells to show more information.")},m(n,r){E(n,t,r)},p:oe,d(n){n&&b(t)}}}function Ls(e){let t,n=e[11][0].data.name.substring(0,21)+"",r,l,a,i=e[11][1].data.name.substring(0,21)+"",o,s,f,c=e[6].frequency(e[11][0],e[11][1])+"",u,h;return{c(){t=F("span"),r=G(n),l=G(` was labeled as
        `),a=F("span"),o=G(i),s=G(`
        in `),f=F("span"),u=G(c),h=G(" instances."),this.h()},l(d){t=Y(d,"SPAN",{class:!0});var _=M(t);r=X(_,n),_.forEach(b),l=X(d,` was labeled as
        `),a=Y(d,"SPAN",{class:!0});var g=M(a);o=X(g,i),g.forEach(b),s=X(d,`
        in `),f=Y(d,"SPAN",{class:!0});var y=M(f);u=X(y,c),y.forEach(b),h=X(d," instances."),this.h()},h(){m(t,"class","highlight svelte-2y4ad4"),m(a,"class","highlight svelte-2y4ad4"),m(f,"class","highlight svelte-2y4ad4")},m(d,_){E(d,t,_),v(t,r),E(d,l,_),E(d,a,_),v(a,o),E(d,s,_),E(d,f,_),v(f,u),E(d,h,_)},p(d,_){_[0]&2048&&n!==(n=d[11][0].data.name.substring(0,21)+"")&&Me(r,n),_[0]&2048&&i!==(i=d[11][1].data.name.substring(0,21)+"")&&Me(o,i),_[0]&2112&&c!==(c=d[6].frequency(d[11][0],d[11][1])+"")&&Me(u,c)},d(d){d&&b(t),d&&b(l),d&&b(a),d&&b(s),d&&b(f),d&&b(h)}}}function Vl(e){let t,n="< go back",r,l,a;return{c(){t=x("text"),r=G(n),this.h()},l(i){t=Z(i,"text",{class:!0,y:!0});var o=M(t);r=X(o,n),o.forEach(b),this.h()},h(){m(t,"class","breadcrumb svelte-2y4ad4"),m(t,"y","120")},m(i,o){E(i,t,o),v(t,r),l||(a=[J(t,"click",e[17]),J(t,"keydown",e[17])],l=!0)},p:oe,d(i){i&&b(t),l=!1,Oe(a)}}}function Os(e){let t,n;return t=new Es({props:{scale:e[13].scale(),cellSize:e[0]}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&8192&&(a.scale=r[13].scale()),l[0]&1&&(a.cellSize=r[0]),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Fs(e){let t,n;return t=new As({props:{scale:e[13].scale(),cellSize:e[0]}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&8192&&(a.scale=r[13].scale()),l[0]&1&&(a.cellSize=r[0]),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Gl(e){let t,n,r;return{c(){t=x("rect"),this.h()},l(l){t=Z(l,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),M(t).forEach(b),this.h()},h(){m(t,"class","hover svelte-2y4ad4"),m(t,"x",0),m(t,"y",n=e[15].pos[1]*e[0]+e[1]),m(t,"width",r=e[5]-2*Ve),m(t,"height",e[0])},m(l,a){E(l,t,a)},p(l,a){a[0]&32771&&n!==(n=l[15].pos[1]*l[0]+l[1])&&m(t,"y",n),a[0]&32&&r!==(r=l[5]-2*Ve)&&m(t,"width",r),a[0]&1&&m(t,"height",l[0])},d(l){l&&b(t)}}}function Xl(e){let t,n,r;return{c(){t=x("rect"),this.h()},l(l){t=Z(l,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),M(t).forEach(b),this.h()},h(){m(t,"class","hover svelte-2y4ad4"),m(t,"x",n=e[14].pos[1]*e[0]+e[1]),m(t,"y",0),m(t,"width",e[0]),m(t,"height",r=e[5]-2*Ve)},m(l,a){E(l,t,a)},p(l,a){a[0]&16387&&n!==(n=l[14].pos[1]*l[0]+l[1])&&m(t,"x",n),a[0]&1&&m(t,"width",l[0]),a[0]&32&&r!==(r=l[5]-2*Ve)&&m(t,"height",r)},d(l){l&&b(t)}}}function jl(e){let t,n,r,l,a;return r=new yi({props:{node:e[33],direction:1}}),{c(){t=x("g"),n=x("g"),De(r.$$.fragment),this.h()},l(i){t=Z(i,"g",{transform:!0});var o=M(t);n=Z(o,"g",{transform:!0});var s=M(n);Ue(r.$$.fragment,s),s.forEach(b),o.forEach(b),this.h()},h(){m(n,"transform","rotate(-90)"),m(t,"transform",l="translate("+(e[34][1]*e[0]+e[0]/2+e[1])+","+(e[1]-e[34][0]*e[2])+")")},m(i,o){E(i,t,o),v(t,n),ze(r,n,null),a=!0},p(i,o){const s={};o[0]&128&&(s.node=i[33]),r.$set(s),(!a||o[0]&135&&l!==(l="translate("+(i[34][1]*i[0]+i[0]/2+i[1])+","+(i[1]-i[34][0]*i[2])+")"))&&m(t,"transform",l)},i(i){a||(le(r.$$.fragment,i),a=!0)},o(i){ce(r.$$.fragment,i),a=!1},d(i){i&&b(t),Ae(r)}}}function xl(e){let t,n,r,l;return{c(){t=x("line"),this.h()},l(a){t=Z(a,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),M(t).forEach(b),this.h()},h(){m(t,"x1","0.3em"),m(t,"x2","0.3em"),m(t,"y1",n=e[0]/2),m(t,"y2",r=e[37]*e[0]+e[0]/2),m(t,"stroke",l=e[29].children.find(e[21])?"black":"#cccccc")},m(a,i){E(a,t,i)},p(a,i){i[0]&1&&n!==(n=a[0]/2)&&m(t,"y1",n),i[0]&129&&r!==(r=a[37]*a[0]+a[0]/2)&&m(t,"y2",r),i[0]&2176&&l!==(l=a[29].children.find(a[21])?"black":"#cccccc")&&m(t,"stroke",l)},d(a){a&&b(t)}}}function Zl(e){let t,n,r,l,a,i=e[37]>0&&xl(e);return r=new yi({props:{node:e[29],direction:0}}),{c(){t=x("g"),i&&i.c(),n=Se(),De(r.$$.fragment),this.h()},l(o){t=Z(o,"g",{transform:!0});var s=M(t);i&&i.l(s),n=Se(),Ue(r.$$.fragment,s),s.forEach(b),this.h()},h(){m(t,"transform",l="translate("+e[30][0]*e[2]+","+(e[30][1]*e[0]+e[0]/2)+")")},m(o,s){E(o,t,s),i&&i.m(t,null),v(t,n),ze(r,t,null),a=!0},p(o,s){o[37]>0?i?i.p(o,s):(i=xl(o),i.c(),i.m(t,n)):i&&(i.d(1),i=null);const f={};s[0]&128&&(f.node=o[29]),r.$set(f),(!a||s[0]&133&&l!==(l="translate("+o[30][0]*o[2]+","+(o[30][1]*o[0]+o[0]/2)+")"))&&m(t,"transform",l)},i(o){a||(le(r.$$.fragment,o),a=!0)},o(o){ce(r.$$.fragment,o),a=!1},d(o){o&&b(t),i&&i.d(),Ae(r)}}}function Ys(e){let t,n;return t=new cs({props:{x:e[34][1]*e[0],actual:e[29],predict:e[33],cellSize:e[0],value:e[13].value(e[29],e[33]),color:"rgb(26,133,255)"}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&129&&(a.x=r[34][1]*r[0]),l[0]&128&&(a.actual=r[29]),l[0]&128&&(a.predict=r[33]),l[0]&1&&(a.cellSize=r[0]),l[0]&8320&&(a.value=r[13].value(r[29],r[33])),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Ps(e){let t,n;return t=new os({props:{x:e[34][1]*e[0],actual:e[29],predict:e[33],cellSize:e[0],value:e[13].value(e[29],e[33])}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&129&&(a.x=r[34][1]*r[0]),l[0]&128&&(a.actual=r[29]),l[0]&128&&(a.predict=r[33]),l[0]&1&&(a.cellSize=r[0]),l[0]&8320&&(a.value=r[13].value(r[29],r[33])),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Rs(e){let t,n;return t=new _s({props:{x:e[34][1]*e[0],actual:e[29],predict:e[33],cellSize:e[0]}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&129&&(a.x=r[34][1]*r[0]),l[0]&128&&(a.actual=r[29]),l[0]&128&&(a.predict=r[33]),l[0]&1&&(a.cellSize=r[0]),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Hs(e){let t,n;return t=new Mu({props:{x:e[34][1]*e[0],actual:e[29],predict:e[33],cellSize:e[0]}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l[0]&129&&(a.x=r[34][1]*r[0]),l[0]&128&&(a.actual=r[29]),l[0]&128&&(a.predict=r[33]),l[0]&1&&(a.cellSize=r[0]),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function Ql(e){let t,n,r,l,a,i;const o=[Hs,Rs,Ps,Ys],s=[];function f(c,u){return u[0]&65664&&(t=null),u[0]&192&&(n=null),t==null&&(t=!c[16](c[33])||!c[16](c[29])),t?0:(n==null&&(n=c[6].frequency(c[29],c[33])===0),n?1:c[10].encoding==="color"?2:c[10].encoding==="size"?3:-1)}return~(r=f(e,[-1,-1]))&&(l=s[r]=o[r](e)),{c(){l&&l.c(),a=Se()},l(c){l&&l.l(c),a=Se()},m(c,u){~r&&s[r].m(c,u),E(c,a,u),i=!0},p(c,u){let h=r;r=f(c,u),r===h?~r&&s[r].p(c,u):(l&&(lt(),ce(s[h],1,1,()=>{s[h]=null}),at()),~r?(l=s[r],l?l.p(c,u):(l=s[r]=o[r](c),l.c()),le(l,1),l.m(a.parentNode,a)):l=null)},i(c){i||(le(l),i=!0)},o(c){ce(l),i=!1},d(c){~r&&s[r].d(c),c&&b(a)}}}function Jl(e){let t,n,r,l=e[7],a=[];for(let o=0;o<l.length;o+=1)a[o]=Ql(Hl(e,l,o));const i=o=>ce(a[o],1,1,()=>{a[o]=null});return{c(){t=x("g");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){t=Z(o,"g",{transform:!0});var s=M(t);for(let f=0;f<a.length;f+=1)a[f].l(s);s.forEach(b),this.h()},h(){m(t,"transform",n="translate(0,"+e[30][1]*e[0]+")")},m(o,s){E(o,t,s);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null);r=!0},p(o,s){if(s[0]&74945){l=o[7];let f;for(f=0;f<l.length;f+=1){const c=Hl(o,l,f);a[f]?(a[f].p(c,s),le(a[f],1)):(a[f]=Ql(c),a[f].c(),le(a[f],1),a[f].m(t,null))}for(lt(),f=l.length;f<a.length;f+=1)i(f);at()}(!r||s[0]&129&&n!==(n="translate(0,"+o[30][1]*o[0]+")"))&&m(t,"transform",n)},i(o){if(!r){for(let s=0;s<l.length;s+=1)le(a[s]);r=!0}},o(o){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)ce(a[s]);r=!1},d(o){o&&b(t),ke(a,o)}}}function Kl(e){let t,n,r,l;return n=new gs({props:{columnWidth:e[3],cellSize:e[0],statistic:e[22].value(e[25])}}),{c(){t=x("g"),De(n.$$.fragment),this.h()},l(a){t=Z(a,"g",{transform:!0});var i=M(t);Ue(n.$$.fragment,i),i.forEach(b),this.h()},h(){m(t,"transform",r="translate(0,"+e[26][1]*e[0]+")")},m(a,i){E(a,t,i),ze(n,t,null),l=!0},p(a,i){const o={};i[0]&8&&(o.columnWidth=a[3]),i[0]&1&&(o.cellSize=a[0]),i[0]&384&&(o.statistic=a[22].value(a[25])),n.$set(o),(!l||i[0]&129&&r!==(r="translate(0,"+a[26][1]*a[0]+")"))&&m(t,"transform",r)},i(a){l||(le(n.$$.fragment,a),l=!0)},o(a){ce(n.$$.fragment,a),l=!1},d(a){a&&b(t),Ae(n)}}}function $l(e){let t,n,r=e[22].name()+"",l,a,i,o,s=e[7],f=[];for(let u=0;u<s.length;u+=1)f[u]=Kl(Pl(e,s,u));const c=u=>ce(f[u],1,1,()=>{f[u]=null});return{c(){t=x("g"),n=x("text"),l=G(r);for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){t=Z(u,"g",{transform:!0});var h=M(t);n=Z(h,"text",{y:!0});var d=M(n);l=X(d,r),d.forEach(b);for(let _=0;_<f.length;_+=1)f[_].l(h);h.forEach(b),this.h()},h(){m(n,"y",a=-e[0]/2),m(t,"transform",i="translate("+e[24]*(e[3]+Ve)+")")},m(u,h){E(u,t,h),v(t,n),v(n,l);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(t,null);o=!0},p(u,h){if((!o||h[0]&256)&&r!==(r=u[22].name()+"")&&Me(l,r),(!o||h[0]&1&&a!==(a=-u[0]/2))&&m(n,"y",a),h[0]&393){s=u[7];let d;for(d=0;d<s.length;d+=1){const _=Pl(u,s,d);f[d]?(f[d].p(_,h),le(f[d],1)):(f[d]=Kl(_),f[d].c(),le(f[d],1),f[d].m(t,null))}for(lt(),d=s.length;d<f.length;d+=1)c(d);at()}(!o||h[0]&8&&i!==(i="translate("+u[24]*(u[3]+Ve)+")"))&&m(t,"transform",i)},i(u){if(!o){for(let h=0;h<s.length;h+=1)le(f[h]);o=!0}},o(u){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ce(f[h]);o=!1},d(u){u&&b(t),ke(f,u)}}}function Ws(e){var S;let t,n,r,l,a,i,o=e[10].normalization==="total"?"Counts":`${e[10].normalization} Probabilities`,s,f,c,u,h,d,_,g,y,p,k,I,V,W,A,H,C,D,N;function z(w,T){return w[11]?Ls:Is}let te=z(e),j=te(e),O=((S=e[10].filter)==null?void 0:S.length)>0&&Vl(e);const U=[Fs,Os],B=[];function P(w,T){return w[10].encoding==="color"?0:w[10].encoding==="size"?1:-1}~(c=P(e))&&(u=B[c]=U[c](e));let Q=e[15]&&Gl(e),ne=e[14]&&Xl(e),ye=e[7],fe=[];for(let w=0;w<ye.length;w+=1)fe[w]=jl(Bl(e,ye,w));const He=w=>ce(fe[w],1,1,()=>{fe[w]=null});let Te=e[7],re=[];for(let w=0;w<Te.length;w+=1)re[w]=Zl(Wl(e,Te,w));const Xe=w=>ce(re[w],1,1,()=>{re[w]=null});let Fe=e[7],ae=[];for(let w=0;w<Fe.length;w+=1)ae[w]=Jl(Rl(e,Fe,w));const Cn=w=>ce(ae[w],1,1,()=>{ae[w]=null});let L=e[8],R=[];for(let w=0;w<L.length;w+=1)R[w]=$l(Yl(e,L,w));const ie=w=>ce(R[w],1,1,()=>{R[w]=null});return{c(){t=F("div"),j.c(),n=K(),r=x("svg"),l=x("g"),O&&O.c(),a=x("g"),i=x("text"),s=G(o),f=x("g"),u&&u.c(),Q&&Q.c(),d=Se(),ne&&ne.c(),_=x("text"),g=G("Observed");for(let w=0;w<fe.length;w+=1)fe[w].c();p=x("text"),k=G("Actual"),V=x("g");for(let w=0;w<re.length;w+=1)re[w].c();A=x("g");for(let w=0;w<ae.length;w+=1)ae[w].c();C=x("g");for(let w=0;w<R.length;w+=1)R[w].c();this.h()},l(w){t=Y(w,"DIV",{class:!0});var T=M(t);j.l(T),T.forEach(b),n=$(w),r=Z(w,"svg",{width:!0,height:!0});var ee=M(r);l=Z(ee,"g",{transform:!0});var he=M(l);O&&O.l(he),a=Z(he,"g",{transform:!0});var q=M(a);i=Z(q,"text",{class:!0});var we=M(i);s=X(we,o),we.forEach(b),f=Z(q,"g",{transform:!0});var Yr=M(f);u&&u.l(Yr),Yr.forEach(b),q.forEach(b),Q&&Q.l(he),d=Se(),ne&&ne.l(he),_=Z(he,"text",{"text-anchor":!0,class:!0,transform:!0});var Pr=M(_);g=X(Pr,"Observed"),Pr.forEach(b);for(let Ne=0;Ne<fe.length;Ne+=1)fe[Ne].l(he);p=Z(he,"text",{"text-anchor":!0,class:!0,transform:!0});var Rr=M(p);k=X(Rr,"Actual"),Rr.forEach(b),V=Z(he,"g",{transform:!0});var Hr=M(V);for(let Ne=0;Ne<re.length;Ne+=1)re[Ne].l(Hr);Hr.forEach(b),A=Z(he,"g",{transform:!0});var Wr=M(A);for(let Ne=0;Ne<ae.length;Ne+=1)ae[Ne].l(Wr);Wr.forEach(b),C=Z(he,"g",{transform:!0});var Br=M(C);for(let Ne=0;Ne<R.length;Ne+=1)R[Ne].l(Br);Br.forEach(b),he.forEach(b),ee.forEach(b),this.h()},h(){m(t,"class","box hover svelte-2y4ad4"),m(i,"class","axisTitle svelte-2y4ad4"),m(f,"transform",h="translate(0,"+e[0]+")"),m(a,"transform","translate(0,0)"),m(_,"text-anchor","middle"),m(_,"class","axisTitle svelte-2y4ad4"),m(_,"transform",y="translate("+(e[1]+e[9]/2)+",0)"),m(p,"text-anchor","middle"),m(p,"class","axisTitle svelte-2y4ad4"),m(p,"transform",I="translate("+-Yt/2+","+(e[1]+e[9]/2)+") rotate(-90)"),m(V,"transform",W="translate(0,"+e[1]+")"),m(A,"transform",H="translate("+e[1]+","+e[1]+")"),m(C,"transform",D="translate("+(e[1]+e[9]+e[4])+","+e[1]+")"),m(l,"transform","translate("+(Ve+Yt)+","+(Ve+Yt)+")"),m(r,"width",e[5]),m(r,"height",e[12])},m(w,T){E(w,t,T),j.m(t,null),E(w,n,T),E(w,r,T),v(r,l),O&&O.m(l,null),v(l,a),v(a,i),v(i,s),v(a,f),~c&&B[c].m(f,null),Q&&Q.m(l,null),v(l,d),ne&&ne.m(l,null),v(l,_),v(_,g);for(let ee=0;ee<fe.length;ee+=1)fe[ee]&&fe[ee].m(l,null);v(l,p),v(p,k),v(l,V);for(let ee=0;ee<re.length;ee+=1)re[ee]&&re[ee].m(V,null);v(l,A);for(let ee=0;ee<ae.length;ee+=1)ae[ee]&&ae[ee].m(A,null);v(l,C);for(let ee=0;ee<R.length;ee+=1)R[ee]&&R[ee].m(C,null);N=!0},p(w,T){var he;te===(te=z(w))&&j?j.p(w,T):(j.d(1),j=te(w),j&&(j.c(),j.m(t,null))),((he=w[10].filter)==null?void 0:he.length)>0?O?O.p(w,T):(O=Vl(w),O.c(),O.m(l,a)):O&&(O.d(1),O=null),(!N||T[0]&1024)&&o!==(o=w[10].normalization==="total"?"Counts":`${w[10].normalization} Probabilities`)&&Me(s,o);let ee=c;if(c=P(w),c===ee?~c&&B[c].p(w,T):(u&&(lt(),ce(B[ee],1,1,()=>{B[ee]=null}),at()),~c?(u=B[c],u?u.p(w,T):(u=B[c]=U[c](w),u.c()),le(u,1),u.m(f,null)):u=null),(!N||T[0]&1&&h!==(h="translate(0,"+w[0]+")"))&&m(f,"transform",h),w[15]?Q?Q.p(w,T):(Q=Gl(w),Q.c(),Q.m(l,d)):Q&&(Q.d(1),Q=null),w[14]?ne?ne.p(w,T):(ne=Xl(w),ne.c(),ne.m(l,_)):ne&&(ne.d(1),ne=null),(!N||T[0]&514&&y!==(y="translate("+(w[1]+w[9]/2)+",0)"))&&m(_,"transform",y),T[0]&135){ye=w[7];let q;for(q=0;q<ye.length;q+=1){const we=Bl(w,ye,q);fe[q]?(fe[q].p(we,T),le(fe[q],1)):(fe[q]=jl(we),fe[q].c(),le(fe[q],1),fe[q].m(l,p))}for(lt(),q=ye.length;q<fe.length;q+=1)He(q);at()}if((!N||T[0]&514&&I!==(I="translate("+-Yt/2+","+(w[1]+w[9]/2)+") rotate(-90)"))&&m(p,"transform",I),T[0]&2181){Te=w[7];let q;for(q=0;q<Te.length;q+=1){const we=Wl(w,Te,q);re[q]?(re[q].p(we,T),le(re[q],1)):(re[q]=Zl(we),re[q].c(),le(re[q],1),re[q].m(V,null))}for(lt(),q=Te.length;q<re.length;q+=1)Xe(q);at()}if((!N||T[0]&2&&W!==(W="translate(0,"+w[1]+")"))&&m(V,"transform",W),T[0]&74945){Fe=w[7];let q;for(q=0;q<Fe.length;q+=1){const we=Rl(w,Fe,q);ae[q]?(ae[q].p(we,T),le(ae[q],1)):(ae[q]=Jl(we),ae[q].c(),le(ae[q],1),ae[q].m(A,null))}for(lt(),q=Fe.length;q<ae.length;q+=1)Cn(q);at()}if((!N||T[0]&2&&H!==(H="translate("+w[1]+","+w[1]+")"))&&m(A,"transform",H),T[0]&393){L=w[8];let q;for(q=0;q<L.length;q+=1){const we=Yl(w,L,q);R[q]?(R[q].p(we,T),le(R[q],1)):(R[q]=$l(we),R[q].c(),le(R[q],1),R[q].m(C,null))}for(lt(),q=L.length;q<R.length;q+=1)ie(q);at()}(!N||T[0]&530&&D!==(D="translate("+(w[1]+w[9]+w[4])+","+w[1]+")"))&&m(C,"transform",D),(!N||T[0]&32)&&m(r,"width",w[5]),(!N||T[0]&4096)&&m(r,"height",w[12])},i(w){if(!N){le(u);for(let T=0;T<ye.length;T+=1)le(fe[T]);for(let T=0;T<Te.length;T+=1)le(re[T]);for(let T=0;T<Fe.length;T+=1)le(ae[T]);for(let T=0;T<L.length;T+=1)le(R[T]);N=!0}},o(w){ce(u),fe=fe.filter(Boolean);for(let T=0;T<fe.length;T+=1)ce(fe[T]);re=re.filter(Boolean);for(let T=0;T<re.length;T+=1)ce(re[T]);ae=ae.filter(Boolean);for(let T=0;T<ae.length;T+=1)ce(ae[T]);R=R.filter(Boolean);for(let T=0;T<R.length;T+=1)ce(R[T]);N=!1},d(w){w&&b(t),j.d(),w&&b(n),w&&b(r),O&&O.d(),~c&&B[c].d(),Q&&Q.d(),ne&&ne.d(),ke(fe,w),ke(re,w),ke(ae,w),ke(R,w)}}}const Ve=4,Yt=30;function Bs(e,t,n){let r,l,a,i,o,s,f,c,u,h,d,_,g,y;Pe(e,ue,D=>n(10,g=D)),Pe(e,Ee,D=>n(11,y=D));let{cellSize:p=18}=t,{hierarchyExtent:k=150}=t,{hierarchyIndent:I=14}=t,{statisticsWidth:V=60}=t,{statisticsPadding:W=10}=t,{confusions:A=null}=t;function H(){ge(ue,g.filter=[],g),ue.set(g)}const C=D=>y&&D.data.id===y[0].data.id;return e.$$set=D=>{"cellSize"in D&&n(0,p=D.cellSize),"hierarchyExtent"in D&&n(1,k=D.hierarchyExtent),"hierarchyIndent"in D&&n(2,I=D.hierarchyIndent),"statisticsWidth"in D&&n(3,V=D.statisticsWidth),"statisticsPadding"in D&&n(4,W=D.statisticsPadding),"confusions"in D&&n(18,A=D.confusions)},e.$$.update=()=>{e.$$.dirty[0]&263168&&n(6,r=Di(g,A)),e.$$.dirty[0]&64&&n(20,l=r.axis),e.$$.dirty[0]&1088&&n(8,a=g.measures?g.measures.map(D=>pu(r,D)):[]),e.$$.dirty[0]&1049600&&n(7,i=qs(D=>!g.collapsed.includes(D.data.id),l)),e.$$.dirty[0]&1024&&n(16,o=D=>D.isLeaf()||g.collapsed.includes(D.data.id)),e.$$.dirty[0]&264&&n(19,s=a.length*V),e.$$.dirty[0]&129&&n(9,f=i.length*p),e.$$.dirty[0]&525074&&n(5,c=Ve+Yt+k+f+W+s+a.length*Ve+Ve),e.$$.dirty[0]&2176&&n(15,u=i.find(D=>y?D.node===y[0]:!1)),e.$$.dirty[0]&2176&&n(14,h=i.find(D=>y?D.node===y[1]:!1)),e.$$.dirty[0]&1088&&n(13,d=vu(r,new Set(g.collapsed),g.normalization)),e.$$.dirty[0]&524336&&n(12,_=c-s-W)},[p,k,I,V,W,c,r,i,a,f,g,y,_,d,h,u,o,H,A,s,l,C]}class Vs extends qe{constructor(t){super(),Ie(this,t,Bs,Ws,Le,{cellSize:0,hierarchyExtent:1,hierarchyIndent:2,statisticsWidth:3,statisticsPadding:4,confusions:18},null,[-1,-1])}}function ea(e,t,n){const r=e.slice();return r[12]=t[n][0],r[13]=t[n][1],r}function ta(e,t,n){const r=e.slice();return r[12]=t[n][0],r[16]=t[n][1],r}function na(e){let t,n,r,l=e[12]+"",a,i,o,s,f;return o=ba(e[9][1]),{c(){t=F("label"),n=F("input"),r=K(),a=G(l),i=K(),this.h()},l(c){t=Y(c,"LABEL",{class:!0});var u=M(t);n=Y(u,"INPUT",{type:!0}),r=$(u),a=X(u,l),i=$(u),u.forEach(b),this.h()},h(){m(n,"type","radio"),n.__value=e[16],n.value=n.__value,m(t,"class","opt svelte-uq87z4"),o.p(n)},m(c,u){E(c,t,u),v(t,n),n.checked=n.__value===e[1],v(t,r),v(t,a),v(t,i),s||(f=[J(n,"change",e[7]),J(n,"change",e[8])],s=!0)},p(c,u){u&2&&(n.checked=n.__value===c[1])},d(c){c&&b(t),o.r(),s=!1,Oe(f)}}}function ra(e){let t,n,r,l=e[12]+"",a,i,o,s,f;return o=ba(e[9][0]),{c(){t=F("label"),n=F("input"),r=K(),a=G(l),i=K(),this.h()},l(c){t=Y(c,"LABEL",{class:!0});var u=M(t);n=Y(u,"INPUT",{type:!0}),r=$(u),a=X(u,l),i=$(u),u.forEach(b),this.h()},h(){m(n,"type","radio"),n.__value=e[13],n.value=n.__value,m(t,"class","opt svelte-uq87z4"),o.p(n)},m(c,u){E(c,t,u),v(t,n),n.checked=n.__value===e[0],v(t,r),v(t,a),v(t,i),s||(f=[J(n,"change",e[10]),J(n,"change",e[11])],s=!0)},p(c,u){u&1&&(n.checked=n.__value===c[0])},d(c){c&&b(t),o.r(),s=!1,Oe(f)}}}function Gs(e){let t,n,r,l,a,i,o,s,f,c,u=[...e[3].entries()],h=[];for(let g=0;g<u.length;g+=1)h[g]=na(ta(e,u,g));let d=[...e[4].entries()],_=[];for(let g=0;g<d.length;g+=1)_[g]=ra(ea(e,d,g));return{c(){t=F("div"),n=F("div"),r=F("span"),l=G("Encoding"),a=K();for(let g=0;g<h.length;g+=1)h[g].c();i=K(),o=F("div"),s=F("span"),f=G("Normalization"),c=K();for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){t=Y(g,"DIV",{class:!0});var y=M(t);n=Y(y,"DIV",{class:!0});var p=M(n);r=Y(p,"SPAN",{class:!0});var k=M(r);l=X(k,"Encoding"),k.forEach(b),a=$(p);for(let W=0;W<h.length;W+=1)h[W].l(p);p.forEach(b),i=$(y),o=Y(y,"DIV",{class:!0});var I=M(o);s=Y(I,"SPAN",{class:!0});var V=M(s);f=X(V,"Normalization"),V.forEach(b),c=$(I);for(let W=0;W<_.length;W+=1)_[W].l(I);I.forEach(b),y.forEach(b),this.h()},h(){m(r,"class","name svelte-uq87z4"),m(n,"class","options svelte-uq87z4"),m(s,"class","name svelte-uq87z4"),m(o,"class","options svelte-uq87z4"),m(t,"class","wrapper svelte-uq87z4")},m(g,y){E(g,t,y),v(t,n),v(n,r),v(r,l),v(n,a);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(n,null);v(t,i),v(t,o),v(o,s),v(s,f),v(o,c);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(o,null)},p(g,[y]){if(y&14){u=[...g[3].entries()];let p;for(p=0;p<u.length;p+=1){const k=ta(g,u,p);h[p]?h[p].p(k,y):(h[p]=na(k),h[p].c(),h[p].m(n,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=u.length}if(y&21){d=[...g[4].entries()];let p;for(p=0;p<d.length;p+=1){const k=ea(g,d,p);_[p]?_[p].p(k,y):(_[p]=ra(k),_[p].c(),_[p].m(o,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=d.length}},i:oe,o:oe,d(g){g&&b(t),ke(h,g),ke(_,g)}}}function Xs(e,t,n){let r,l,a;Pe(e,ue,g=>n(2,a=g));let{encoding:i}=t,{normalization:o}=t;const s=new Map([["Size","size"],["Color","color"]]),f=new Map([["Counts","total"],["Row probabilities","row"],["Column probabilities","column"]]),c=[[],[]],u=g=>{ge(ue,a.encoding=g.currentTarget.value,a),ue.set(a)};function h(){r=this.__value,n(1,r),n(5,i)}const d=g=>{ge(ue,a.normalization=g.currentTarget.value,a),ue.set(a)};function _(){l=this.__value,n(0,l),n(6,o)}return e.$$set=g=>{"encoding"in g&&n(5,i=g.encoding),"normalization"in g&&n(6,o=g.normalization)},e.$$.update=()=>{e.$$.dirty&32&&n(1,r=i),e.$$.dirty&64&&n(0,l=o)},[l,r,a,s,f,i,o,u,h,c,d,_]}class js extends qe{constructor(t){super(),Ie(this,t,Xs,Gs,Le,{encoding:5,normalization:6})}}function la(e,t,n){const r=e.slice();return r[26]=t[n],r}function aa(e,t,n){const r=e.slice();return r[23]=t[n],r}function ia(e,t,n){const r=e.slice();return r[29]=t[n],r}function oa(e,t,n){const r=e.slice();return r[29]=t[n],r[33]=n,r}function fa(e){let t,n,r=e[29]+"",l,a,i,o,s,f,c,u,h,d;function _(){return e[12](e[29])}function g(){return e[13](e[33])}function y(){return e[14](e[33])}return{c(){t=F("div"),n=F("button"),l=G(r),a=K(),i=F("button"),o=G("◁"),s=K(),f=F("button"),c=G("▷"),this.h()},l(p){t=Y(p,"DIV",{class:!0});var k=M(t);n=Y(k,"BUTTON",{class:!0});var I=M(n);l=X(I,r),I.forEach(b),a=$(k),i=Y(k,"BUTTON",{class:!0});var V=M(i);o=X(V,"◁"),V.forEach(b),s=$(k),f=Y(k,"BUTTON",{class:!0});var W=M(f);c=X(W,"▷"),W.forEach(b),k.forEach(b),this.h()},h(){m(n,"class","name svelte-178sbnt"),m(i,"class",nt(e[33]>0?"activeArrow":"inactiveArrow")+" svelte-178sbnt"),m(f,"class",u=nt(e[33]<e[1].length-1?"activeArrow":"inactiveArrow")+" svelte-178sbnt"),m(t,"class","dimension active svelte-178sbnt")},m(p,k){E(p,t,k),v(t,n),v(n,l),v(t,a),v(t,i),v(i,o),v(t,s),v(t,f),v(f,c),h||(d=[J(n,"click",_),J(i,"click",g),J(f,"click",y)],h=!0)},p(p,k){e=p,k[0]&2&&r!==(r=e[29]+"")&&Me(l,r),k[0]&2&&u!==(u=nt(e[33]<e[1].length-1?"activeArrow":"inactiveArrow")+" svelte-178sbnt")&&m(f,"class",u)},d(p){p&&b(t),h=!1,Oe(d)}}}function ua(e){let t,n,r=e[29]+"",l,a,i,o,s,f,c;function u(){return e[15](e[29])}return{c(){t=F("div"),n=F("button"),l=G(r),a=K(),i=F("span"),o=G("activate"),s=K(),this.h()},l(h){t=Y(h,"DIV",{class:!0});var d=M(t);n=Y(d,"BUTTON",{class:!0});var _=M(n);l=X(_,r),a=$(_),i=Y(_,"SPAN",{class:!0});var g=M(i);o=X(g,"activate"),g.forEach(b),_.forEach(b),s=$(d),d.forEach(b),this.h()},h(){m(i,"class","activate svelte-178sbnt"),m(n,"class","svelte-178sbnt"),m(t,"class","dimension inactive svelte-178sbnt")},m(h,d){E(h,t,d),v(t,n),v(n,l),v(n,a),v(n,i),v(i,o),v(t,s),f||(c=J(n,"click",u),f=!0)},p(h,d){e=h,d[0]&64&&r!==(r=e[29]+"")&&Me(l,r)},d(h){h&&b(t),f=!1,c()}}}function sa(e){var r;let t,n=((r=e[5])==null?void 0:r.label)!==e[29]&&ua(e);return{c(){n&&n.c(),t=Se()},l(l){n&&n.l(l),t=Se()},m(l,a){n&&n.m(l,a),E(l,t,a)},p(l,a){var i;((i=l[5])==null?void 0:i.label)!==l[29]?n?n.p(l,a):(n=ua(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&b(t)}}}function xs(e){let t,n;return{c(){t=F("span"),n=G("All dimensions are already in use."),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var l=M(t);n=X(l,"All dimensions are already in use."),l.forEach(b),this.h()},h(){m(t,"class","warning svelte-178sbnt")},m(r,l){E(r,t,l),v(t,n)},p:oe,d(r){r&&b(t)}}}function Zs(e){let t,n=e[6],r=[];for(let l=0;l<n.length;l+=1)r[l]=ca(la(e,n,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();t=Se()},l(l){for(let a=0;a<r.length;a+=1)r[a].l(l);t=Se()},m(l,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(l,a);E(l,t,a)},p(l,a){if(a[0]&69){n=l[6];let i;for(i=0;i<n.length;i+=1){const o=la(l,n,i);r[i]?r[i].p(o,a):(r[i]=ca(o),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(l){ke(r,l),l&&b(t)}}}function Qs(e){let t,n,r,l,a,i,o,s,f,c,u=e[5].label+"",h,d,_,g,y,p,k,I,V,W,A=Wn(e[0],e[5].label),H=[];for(let C=0;C<A.length;C+=1)H[C]=ha(aa(e,A,C));return{c(){t=F("div"),n=F("select"),r=F("option"),l=G("actual"),a=F("option"),i=G("observed"),s=K(),f=F("div"),c=F("span"),h=G(u),d=K(),_=F("button"),g=G("×"),y=K(),p=F("div"),k=F("select");for(let C=0;C<H.length;C+=1)H[C].c();this.h()},l(C){t=Y(C,"DIV",{class:!0});var D=M(t);n=Y(D,"SELECT",{});var N=M(n);r=Y(N,"OPTION",{});var z=M(r);l=X(z,"actual"),z.forEach(b),a=Y(N,"OPTION",{});var te=M(a);i=X(te,"observed"),te.forEach(b),N.forEach(b),D.forEach(b),s=$(C),f=Y(C,"DIV",{class:!0});var j=M(f);c=Y(j,"SPAN",{class:!0});var O=M(c);h=X(O,u),O.forEach(b),d=$(j),_=Y(j,"BUTTON",{class:!0});var U=M(_);g=X(U,"×"),U.forEach(b),j.forEach(b),y=$(C),p=Y(C,"DIV",{class:!0});var B=M(p);k=Y(B,"SELECT",{});var P=M(k);for(let Q=0;Q<H.length;Q+=1)H[Q].l(P);P.forEach(b),B.forEach(b),this.h()},h(){r.__value="actual",r.value=r.__value,a.__value="observed",a.value=a.__value,m(t,"class","chooser svelte-178sbnt"),m(c,"class","name svelte-178sbnt"),m(_,"class","svelte-178sbnt"),m(f,"class","dimension active svelte-178sbnt"),m(p,"class","chooser svelte-178sbnt")},m(C,D){E(C,t,D),v(t,n),v(n,r),v(r,l),v(n,a),v(a,i),Mt(n,e[5].qualifier),e[16](n),E(C,s,D),E(C,f,D),v(f,c),v(c,h),v(f,d),v(f,_),v(_,g),E(C,y,D),E(C,p,D),v(p,k);for(let N=0;N<H.length;N+=1)H[N]&&H[N].m(k,null);Mt(k,e[5].is),e[19](k),V||(W=[J(n,"blur",e[17]),J(_,"click",e[18]),J(k,"blur",e[20])],V=!0)},p(C,D){if(D[0]&32&&o!==(o=C[5].qualifier)&&Mt(n,C[5].qualifier),D[0]&32&&u!==(u=C[5].label+"")&&Me(h,u),D[0]&33){A=Wn(C[0],C[5].label);let N;for(N=0;N<A.length;N+=1){const z=aa(C,A,N);H[N]?H[N].p(z,D):(H[N]=ha(z),H[N].c(),H[N].m(k,null))}for(;N<H.length;N+=1)H[N].d(1);H.length=A.length}D[0]&32&&I!==(I=C[5].is)&&Mt(k,C[5].is)},d(C){C&&b(t),e[16](null),C&&b(s),C&&b(f),C&&b(y),C&&b(p),ke(H,C),e[19](null),V=!1,Oe(W)}}}function ca(e){let t,n,r=e[26]+"",l,a,i,o;function s(){return e[21](e[26])}return{c(){t=F("div"),n=F("button"),l=G(r),a=K(),this.h()},l(f){t=Y(f,"DIV",{class:!0});var c=M(t);n=Y(c,"BUTTON",{class:!0});var u=M(n);l=X(u,r),u.forEach(b),a=$(c),c.forEach(b),this.h()},h(){m(n,"class","svelte-178sbnt"),m(t,"class","dimension inactive svelte-178sbnt")},m(f,c){E(f,t,c),v(t,n),v(n,l),v(t,a),i||(o=J(n,"click",s),i=!0)},p(f,c){e=f,c[0]&64&&r!==(r=e[26]+"")&&Me(l,r)},d(f){f&&b(t),i=!1,o()}}}function ha(e){let t,n=e[23]+"",r,l;return{c(){t=F("option"),r=G(n),this.h()},l(a){t=Y(a,"OPTION",{});var i=M(t);r=X(i,n),i.forEach(b),this.h()},h(){t.__value=l=e[23],t.value=t.__value},m(a,i){E(a,t,i),v(t,r)},p(a,i){i[0]&33&&n!==(n=a[23]+"")&&Me(r,n),i[0]&33&&l!==(l=a[23])&&(t.__value=l,t.value=t.__value)},d(a){a&&b(t)}}}function Js(e){let t,n,r,l,a,i,o,s,f,c,u,h,d,_,g,y,p,k,I,V,W,A,H,C=e[1],D=[];for(let U=0;U<C.length;U+=1)D[U]=fa(oa(e,C,U));let N=e[6],z=[];for(let U=0;U<N.length;U+=1)z[U]=sa(ia(e,N,U));function te(U,B){return U[5]?Qs:U[6].length>0?Zs:xs}let j=te(e),O=j(e);return{c(){t=F("h3"),n=G("Dimensions"),r=K(),l=F("div"),a=F("div");for(let U=0;U<D.length;U+=1)D[U].c();i=K();for(let U=0;U<z.length;U+=1)z[U].c();o=K(),s=F("div"),f=F("span"),c=G("Shelf"),u=K(),h=F("span"),d=G(`Enable and disable different dimensions of the data. The order of dimension defines the
            nesting level.`),_=K(),g=F("div"),y=F("div"),O.c(),p=K(),k=F("div"),I=F("span"),V=G("Where"),W=K(),A=F("span"),H=G("Condition the confusion matrix on the value of a given label."),this.h()},l(U){t=Y(U,"H3",{});var B=M(t);n=X(B,"Dimensions"),B.forEach(b),r=$(U),l=Y(U,"DIV",{class:!0});var P=M(l);a=Y(P,"DIV",{});var Q=M(a);for(let ae=0;ae<D.length;ae+=1)D[ae].l(Q);i=$(Q);for(let ae=0;ae<z.length;ae+=1)z[ae].l(Q);Q.forEach(b),o=$(P),s=Y(P,"DIV",{class:!0});var ne=M(s);f=Y(ne,"SPAN",{class:!0});var ye=M(f);c=X(ye,"Shelf"),ye.forEach(b),u=$(ne),h=Y(ne,"SPAN",{class:!0});var fe=M(h);d=X(fe,`Enable and disable different dimensions of the data. The order of dimension defines the
            nesting level.`),fe.forEach(b),ne.forEach(b),P.forEach(b),_=$(U),g=Y(U,"DIV",{class:!0});var He=M(g);y=Y(He,"DIV",{});var Te=M(y);O.l(Te),Te.forEach(b),p=$(He),k=Y(He,"DIV",{class:!0});var re=M(k);I=Y(re,"SPAN",{class:!0});var Xe=M(I);V=X(Xe,"Where"),Xe.forEach(b),W=$(re),A=Y(re,"SPAN",{class:!0});var Fe=M(A);H=X(Fe,"Condition the confusion matrix on the value of a given label."),Fe.forEach(b),re.forEach(b),He.forEach(b),this.h()},h(){m(f,"class","title svelte-178sbnt"),m(h,"class","desc svelte-178sbnt"),m(s,"class","explanation svelte-178sbnt"),m(l,"class","wrapper svelte-178sbnt"),m(I,"class","title svelte-178sbnt"),m(A,"class","desc svelte-178sbnt"),m(k,"class","explanation svelte-178sbnt"),m(g,"class","wrapper svelte-178sbnt")},m(U,B){E(U,t,B),v(t,n),E(U,r,B),E(U,l,B),v(l,a);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(a,null);v(a,i);for(let P=0;P<z.length;P+=1)z[P]&&z[P].m(a,null);v(l,o),v(l,s),v(s,f),v(f,c),v(s,u),v(s,h),v(h,d),E(U,_,B),E(U,g,B),v(g,y),O.m(y,null),v(g,p),v(g,k),v(k,I),v(I,V),v(k,W),v(k,A),v(A,H)},p(U,B){if(B[0]&1794){C=U[1];let P;for(P=0;P<C.length;P+=1){const Q=oa(U,C,P);D[P]?D[P].p(Q,B):(D[P]=fa(Q),D[P].c(),D[P].m(a,i))}for(;P<D.length;P+=1)D[P].d(1);D.length=C.length}if(B[0]&224){N=U[6];let P;for(P=0;P<N.length;P+=1){const Q=ia(U,N,P);z[P]?z[P].p(Q,B):(z[P]=sa(Q),z[P].c(),z[P].m(a,null))}for(;P<z.length;P+=1)z[P].d(1);z.length=N.length}j===(j=te(U))&&O?O.p(U,B):(O.d(1),O=j(U),O&&(O.c(),O.m(y,null)))},i:oe,o:oe,d(U){U&&b(t),U&&b(r),U&&b(l),ke(D,U),ke(z,U),U&&b(_),U&&b(g),O.d()}}}function Ks(e,t,n){let r,l,a,i;Pe(e,ue,N=>n(2,i=N));let{confusions:o=null}=t;function s(N){i.classes.push(N),ue.set(i)}function f(N){i.classes.length>1&&(i.classes.splice(i.classes.indexOf(N),1),ue.set(i))}function c(N){const[z]=i.classes.splice(N,1);i.classes.splice(N-1,0,z),ue.set(i)}function u(N){const[z]=i.classes.splice(N,1);i.classes.splice(N+1,0,z),ue.set(i)}function h(){ge(ue,i.where=void 0,i),ue.set(i)}const d=[...Ui(o)];let _,g;const y=N=>f(N),p=N=>c(N),k=N=>u(N),I=N=>s(N);function V(N){Hn[N?"unshift":"push"](()=>{_=N,n(3,_)})}const W=N=>{ge(ue,i.where.qualifier=_.value,i),ue.set(i)},A=()=>h();function H(N){Hn[N?"unshift":"push"](()=>{g=N,n(4,g),n(0,o),n(5,a),n(2,i)})}const C=()=>{ge(ue,i.where.is=g.value,i),ue.set(i)},D=N=>{ge(ue,i.where={qualifier:"actual",label:N,is:Wn(o,N)[0]},i),ue.set(i)};return e.$$set=N=>{"confusions"in N&&n(0,o=N.confusions)},e.$$.update=()=>{e.$$.dirty[0]&4&&n(1,r=i.classes),e.$$.dirty[0]&2&&n(6,l=d.filter(N=>!r.includes(N))),e.$$.dirty[0]&4&&n(5,a=i.where)},[o,r,i,_,g,a,l,s,f,c,u,h,y,p,k,I,V,W,A,H,C,D]}class $s extends qe{constructor(t){super(),Ie(this,t,Ks,Js,Le,{confusions:0},null,[-1,-1])}}function ec(e){let t,n,r,l,a,i;return t=new js({props:{encoding:e[1].encoding,normalization:e[1].normalization}}),r=new $s({props:{confusions:e[0]}}),a=new Vs({props:{confusions:e[0]}}),{c(){De(t.$$.fragment),n=K(),De(r.$$.fragment),l=K(),De(a.$$.fragment)},l(o){Ue(t.$$.fragment,o),n=$(o),Ue(r.$$.fragment,o),l=$(o),Ue(a.$$.fragment,o)},m(o,s){ze(t,o,s),E(o,n,s),ze(r,o,s),E(o,l,s),ze(a,o,s),i=!0},p(o,[s]){const f={};s&2&&(f.encoding=o[1].encoding),s&2&&(f.normalization=o[1].normalization),t.$set(f);const c={};s&1&&(c.confusions=o[0]),r.$set(c);const u={};s&1&&(u.confusions=o[0]),a.$set(u)},i(o){i||(le(t.$$.fragment,o),le(r.$$.fragment,o),le(a.$$.fragment,o),i=!0)},o(o){ce(t.$$.fragment,o),ce(r.$$.fragment,o),ce(a.$$.fragment,o),i=!1},d(o){Ae(t,o),o&&b(n),Ae(r,o),o&&b(l),Ae(a,o)}}}function tc(e,t,n){let r;Pe(e,ue,a=>n(1,r=a));let{confusions:l=null}=t;return e.$$set=a=>{"confusions"in a&&n(0,l=a.confusions)},[l,r]}class nc extends qe{constructor(t){super(),Ie(this,t,tc,ec,Le,{confusions:0})}}function da(e,t,n){const r=e.slice();return r[14]=t[n],r}function ga(e){let t,n=e[14].description+"",r;return{c(){t=F("option"),r=G(n),this.h()},l(l){t=Y(l,"OPTION",{});var a=M(t);r=X(a,n),a.forEach(b),this.h()},h(){t.__value=e[14],t.value=t.__value},m(l,a){E(l,t,a),v(t,r)},p:oe,d(l){l&&b(t)}}}function rc(e){let t,n,r,l;return{c(){t=F("a"),n=G("Specification"),this.h()},l(a){t=Y(a,"A",{href:!0,class:!0});var i=M(t);n=X(i,"Specification"),i.forEach(b),this.h()},h(){m(t,"href","#"),m(t,"class","svelte-7ltub1")},m(a,i){E(a,t,i),v(t,n),r||(l=J(t,"click",e[9]),r=!0)},p:oe,d(a){a&&b(t),r=!1,l()}}}function lc(e){let t,n,r,l;return{c(){t=F("a"),n=G("Specification"),this.h()},l(a){t=Y(a,"A",{href:!0,class:!0});var i=M(t);n=X(i,"Specification"),i.forEach(b),this.h()},h(){m(t,"href","#"),m(t,"class","svelte-7ltub1")},m(a,i){E(a,t,i),v(t,n),r||(l=J(t,"click",e[8]),r=!0)},p:oe,d(a){a&&b(t),r=!1,l()}}}function ma(e){let t,n,r,l,a,i,o,s,f,c,u,h,d,_;return{c(){t=F("div"),n=F("textarea"),l=K(),a=F("div"),i=F("span"),o=G("Specification"),s=F("span"),f=G(`All the configuration and state of the confusion matrix is stored in an easily
                    shareable JSON format. Changing values in the textarea updates the
                    visualization.`),c=K(),u=F("button"),h=G("Update"),this.h()},l(g){t=Y(g,"DIV",{class:!0});var y=M(t);n=Y(y,"TEXTAREA",{rows:!0,class:!0}),M(n).forEach(b),l=$(y),a=Y(y,"DIV",{class:!0});var p=M(a);i=Y(p,"SPAN",{class:!0});var k=M(i);o=X(k,"Specification"),k.forEach(b),s=Y(p,"SPAN",{class:!0});var I=M(s);f=X(I,`All the configuration and state of the confusion matrix is stored in an easily
                    shareable JSON format. Changing values in the textarea updates the
                    visualization.`),I.forEach(b),c=$(p),u=Y(p,"BUTTON",{});var V=M(u);h=X(V,"Update"),V.forEach(b),p.forEach(b),y.forEach(b),this.h()},h(){m(n,"rows","20"),n.value=r=JSON.stringify(e[4],void 0,4),m(n,"class","svelte-7ltub1"),m(i,"class","title svelte-7ltub1"),m(s,"class","desc svelte-7ltub1"),m(a,"class","specDesc svelte-7ltub1"),m(t,"class","specBox svelte-7ltub1")},m(g,y){E(g,t,y),v(t,n),e[10](n),v(t,l),v(t,a),v(a,i),v(i,o),v(a,s),v(s,f),v(a,c),v(a,u),v(u,h),d||(_=J(u,"click",e[11]),d=!0)},p(g,y){y&16&&r!==(r=JSON.stringify(g[4],void 0,4))&&(n.value=r)},d(g){g&&b(t),e[10](null),d=!1,_()}}}function ac(e){let t,n=e[13].message+"",r;return{c(){t=F("p"),r=G(n),this.h()},l(l){t=Y(l,"P",{style:!0});var a=M(t);r=X(a,n),a.forEach(b),this.h()},h(){dn(t,"color","red")},m(l,a){E(l,t,a),v(t,r)},p(l,a){a&8&&n!==(n=l[13].message+"")&&Me(r,n)},i:oe,o:oe,d(l){l&&b(t)}}}function ic(e){let t,n;return t=new nc({props:{confusions:e[12]}}),{c(){De(t.$$.fragment)},l(r){Ue(t.$$.fragment,r)},m(r,l){ze(t,r,l),n=!0},p(r,l){const a={};l&8&&(a.confusions=r[12]),t.$set(a)},i(r){n||(le(t.$$.fragment,r),n=!0)},o(r){ce(t.$$.fragment,r),n=!1},d(r){Ae(t,r)}}}function oc(e){let t,n;return{c(){t=F("p"),n=G("...waiting")},l(r){t=Y(r,"P",{});var l=M(t);n=X(l,"...waiting"),l.forEach(b)},m(r,l){E(r,t,l),v(t,n)},p:oe,i:oe,o:oe,d(r){r&&b(t)}}}function fc(e){let t,n,r,l,a,i,o,s,f,c,u,h,d,_,g,y,p,k,I,V,W,A,H=e[5],C=[];for(let O=0;O<H.length;O+=1)C[O]=ga(da(e,H,O));function D(O,U){return O[1]?lc:rc}let N=D(e),z=N(e),te=e[1]&&ma(e),j={ctx:e,current:null,token:null,hasCatch:!0,pending:oc,then:ic,catch:ac,value:12,error:13,blocks:[,,,]};return Vr(I=e[3],j),{c(){t=F("div"),n=F("div"),r=F("nav"),l=F("div"),a=G("Neo: Hierarchical Confusion Matrix"),i=F("small"),o=G("Version "),s=G(Xr),f=K(),c=F("ul"),u=F("li"),h=G(`Dataset:
                    `),d=F("select");for(let O=0;O<C.length;O+=1)C[O].c();_=K(),g=F("li"),z.c(),y=K(),p=F("div"),te&&te.c(),k=K(),j.block.c(),this.h()},l(O){t=Y(O,"DIV",{class:!0});var U=M(t);n=Y(U,"DIV",{class:!0});var B=M(n);r=Y(B,"NAV",{class:!0});var P=M(r);l=Y(P,"DIV",{class:!0});var Q=M(l);a=X(Q,"Neo: Hierarchical Confusion Matrix"),i=Y(Q,"SMALL",{class:!0});var ne=M(i);o=X(ne,"Version "),s=X(ne,Xr),ne.forEach(b),Q.forEach(b),f=$(P),c=Y(P,"UL",{class:!0});var ye=M(c);u=Y(ye,"LI",{class:!0});var fe=M(u);h=X(fe,`Dataset:
                    `),d=Y(fe,"SELECT",{});var He=M(d);for(let Xe=0;Xe<C.length;Xe+=1)C[Xe].l(He);He.forEach(b),fe.forEach(b),_=$(ye),g=Y(ye,"LI",{class:!0});var Te=M(g);z.l(Te),Te.forEach(b),ye.forEach(b),P.forEach(b),B.forEach(b),U.forEach(b),y=$(O),p=Y(O,"DIV",{class:!0});var re=M(p);te&&te.l(re),k=$(re),j.block.l(re),re.forEach(b),this.h()},h(){m(i,"class","version svelte-7ltub1"),m(l,"class","nav-brand svelte-7ltub1"),e[0]===void 0&&ki(()=>e[7].call(d)),m(u,"class","svelte-7ltub1"),m(g,"class","svelte-7ltub1"),m(c,"class","svelte-7ltub1"),m(r,"class","svelte-7ltub1"),m(n,"class","container svelte-7ltub1"),m(t,"class","fixed-header svelte-7ltub1"),m(p,"class","container svelte-7ltub1")},m(O,U){E(O,t,U),v(t,n),v(n,r),v(r,l),v(l,a),v(l,i),v(i,o),v(i,s),v(r,f),v(r,c),v(c,u),v(u,h),v(u,d);for(let B=0;B<C.length;B+=1)C[B]&&C[B].m(d,null);Mt(d,e[0],!0),v(c,_),v(c,g),z.m(g,null),E(O,y,U),E(O,p,U),te&&te.m(p,null),v(p,k),j.block.m(p,j.anchor=null),j.mount=()=>p,j.anchor=null,V=!0,W||(A=J(d,"change",e[7]),W=!0)},p(O,[U]){if(e=O,U&32){H=e[5];let B;for(B=0;B<H.length;B+=1){const P=da(e,H,B);C[B]?C[B].p(P,U):(C[B]=ga(P),C[B].c(),C[B].m(d,null))}for(;B<C.length;B+=1)C[B].d(1);C.length=H.length}U&33&&Mt(d,e[0]),N===(N=D(e))&&z?z.p(e,U):(z.d(1),z=N(e),z&&(z.c(),z.m(g,null))),e[1]?te?te.p(e,U):(te=ma(e),te.c(),te.m(p,k)):te&&(te.d(1),te=null),j.ctx=e,U&8&&I!==(I=e[3])&&Vr(I,j)||Si(j,e,U)},i(O){V||(le(j.block),V=!0)},o(O){for(let U=0;U<3;U+=1){const B=j.blocks[U];ce(B)}V=!1},d(O){O&&b(t),ke(C,O),z.d(),O&&b(y),O&&b(p),te&&te.d(),j.block.d(),j.token=null,j=null,W=!1,A()}}}function uc(e,t,n){let r,l;Pe(e,ue,g=>n(4,l=g));let{data:a}=t;const i=a.examples;let o=i[0],s=!1,f;function c(){o=Ti(this),n(0,o),n(5,i)}const u=()=>n(1,s=!s),h=()=>n(1,s=!s);function d(g){Hn[g?"unshift":"push"](()=>{f=g,n(2,f)})}const _=()=>{ge(ue,l=JSON.parse(f.value),l)};return e.$$set=g=>{"data"in g&&n(6,a=g.data)},e.$$.update=()=>{e.$$.dirty&1&&ge(ue,l=zi.cloneDeep(o.spec),l),e.$$.dirty&1&&n(3,r=o.loader(o.filename))},[o,s,f,r,l,i,a,c,u,h,d,_]}class gc extends qe{constructor(t){super(),Ie(this,t,uc,fc,Le,{data:6})}}export{gc as default};
